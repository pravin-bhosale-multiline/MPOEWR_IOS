{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{PSRr:function(t,e,n){\"use strict\";n.d(e,\"a\",function(){return h}),n.d(e,\"b\",function(){return I}),n.d(e,\"c\",function(){return ct}),n.d(e,\"d\",function(){return K}),n.d(e,\"e\",function(){return lt}),n.d(e,\"f\",function(){return H}),n.d(e,\"g\",function(){return E}),n.d(e,\"h\",function(){return rt}),n.d(e,\"i\",function(){return it}),n.d(e,\"j\",function(){return Z}),n.d(e,\"k\",function(){return ot}),n.d(e,\"l\",function(){return ut}),n.d(e,\"m\",function(){return pt}),n.d(e,\"n\",function(){return gt}),n.d(e,\"o\",function(){return nt}),n.d(e,\"p\",function(){return c}),n.d(e,\"q\",function(){return f}),n.d(e,\"r\",function(){return m}),n.d(e,\"s\",function(){return mt}),n.d(e,\"t\",function(){return g}),n.d(e,\"u\",function(){return st}),n.d(e,\"v\",function(){return d}),n.d(e,\"w\",function(){return u}),n.d(e,\"x\",function(){return y}),n.d(e,\"y\",function(){return k}),n.d(e,\"z\",function(){return p});var i=n(\"CcnG\"),r=n(\"K9Ia\"),o=n(\"bne5\"),s=n(\"26FU\"),a=n(\"ny24\"),l=n(\"mrSG\"),u=function(){function t(t){this.document=t,this.width=this.getWidth()}return t.prototype.getWidth=function(){var t=this.document.createElement(\"div\");t.style.visibility=\"hidden\",t.style.width=\"100px\",t.style.msOverflowStyle=\"scrollbar\",this.document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow=\"scroll\";var n=this.document.createElement(\"div\");n.style.width=\"100%\",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),e-i},t}(),c=function(){function t(){}return t.prototype.getDimensions=function(t){return t.getBoundingClientRect()},t}(),h=function(){function t(){this.columnInputChanges=new r.a}return Object.defineProperty(t.prototype,\"columnInputChanges$\",{get:function(){return this.columnInputChanges.asObservable()},enumerable:!0,configurable:!0}),t.prototype.onInputChange=function(){this.columnInputChanges.next()},t}(),p=function(){function t(t,e){this.element=t,this.zone=e,this.isVisible=!1,this.visible=new i.n}return t.prototype.ngOnInit=function(){this.runCheck()},t.prototype.ngOnDestroy=function(){clearTimeout(this.timeout)},t.prototype.onVisibilityChange=function(){var t=this;this.zone.run(function(){t.isVisible=!0,t.visible.emit(!0)})},t.prototype.runCheck=function(){var t=this,e=function(){var n=t.element.nativeElement;n.offsetHeight&&n.offsetWidth?(clearTimeout(t.timeout),t.onVisibilityChange()):(clearTimeout(t.timeout),t.zone.runOutsideAngular(function(){t.timeout=setTimeout(function(){return e()},50)}))};this.timeout=setTimeout(function(){return e()})},t}(),f=function(){function t(t){this.dragX=!0,this.dragY=!0,this.dragStart=new i.n,this.dragging=new i.n,this.dragEnd=new i.n,this.isDragging=!1,this.element=t.nativeElement}return t.prototype.ngOnChanges=function(t){t.dragEventTarget&&t.dragEventTarget.currentValue&&this.dragModel.dragging&&this.onMousedown(t.dragEventTarget.currentValue)},t.prototype.ngOnDestroy=function(){this._destroySubscription()},t.prototype.onMouseup=function(t){this.isDragging&&(this.isDragging=!1,this.element.classList.remove(\"dragging\"),this.subscription&&(this._destroySubscription(),this.dragEnd.emit({event:t,element:this.element,model:this.dragModel})))},t.prototype.onMousedown=function(t){var e=this;if(t.target.classList.contains(\"draggable\")&&(this.dragX||this.dragY)){t.preventDefault(),this.isDragging=!0;var n={x:t.clientX,y:t.clientY},i=Object(o.a)(document,\"mouseup\");this.subscription=i.subscribe(function(t){return e.onMouseup(t)});var r=Object(o.a)(document,\"mousemove\").pipe(Object(a.a)(i)).subscribe(function(t){return e.move(t,n)});this.subscription.add(r),this.dragStart.emit({event:t,element:this.element,model:this.dragModel})}},t.prototype.move=function(t,e){if(this.isDragging){var n=t.clientY-e.y;this.dragX&&(this.element.style.left=t.clientX-e.x+\"px\"),this.dragY&&(this.element.style.top=n+\"px\"),this.element.classList.add(\"dragging\"),this.dragging.emit({event:t,element:this.element,model:this.dragModel})}},t.prototype._destroySubscription=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)},t}();\"undefined\"!=typeof window&&window||global,\"undefined\"!=typeof window&&window||global,\"undefined\"!=typeof window&&window||global;var d=function(){function t(t,e){this.renderer=e,this.resizeEnabled=!0,this.resize=new i.n,this.resizing=!1,this.element=t.nativeElement}return t.prototype.ngAfterViewInit=function(){var t=this.renderer,e=t.createElement(\"span\");t.addClass(e,this.resizeEnabled?\"resize-handle\":\"resize-handle--not-resizable\"),t.appendChild(this.element,e)},t.prototype.ngOnDestroy=function(){this._destroySubscription()},t.prototype.onMouseup=function(){this.resizing=!1,this.subscription&&!this.subscription.closed&&(this._destroySubscription(),this.resize.emit(this.element.clientWidth))},t.prototype.onMousedown=function(t){var e=this,n=t.target.classList.contains(\"resize-handle\"),i=this.element.clientWidth,r=t.screenX;if(n){t.stopPropagation(),this.resizing=!0;var s=Object(o.a)(document,\"mouseup\");this.subscription=s.subscribe(function(t){return e.onMouseup()});var l=Object(o.a)(document,\"mousemove\").pipe(Object(a.a)(s)).subscribe(function(t){return e.move(t,i,r)});this.subscription.add(l)}},t.prototype.move=function(t,e,n){var i=e+(t.screenX-n);(!this.minWidth||i>=this.minWidth)&&(!this.maxWidth||i<=this.maxWidth)&&(this.element.style.width=i+\"px\")},t.prototype._destroySubscription=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)},t}(),g=function(){function t(t,e){this.document=e,this.reorder=new i.n,this.targetChanged=new i.n,this.differ=t.find({}).create()}return t.prototype.ngAfterContentInit=function(){this.updateSubscriptions(),this.draggables.changes.subscribe(this.updateSubscriptions.bind(this))},t.prototype.ngOnDestroy=function(){this.draggables.forEach(function(t){t.dragStart.unsubscribe(),t.dragging.unsubscribe(),t.dragEnd.unsubscribe()})},t.prototype.updateSubscriptions=function(){var t=this,e=this.differ.diff(this.createMapDiffs());if(e){var n=function(t){var e=t.previousValue;e&&(e.dragStart.unsubscribe(),e.dragging.unsubscribe(),e.dragEnd.unsubscribe())};e.forEachAddedItem(function(e){var i=e.currentValue;n({previousValue:e.previousValue}),i&&(i.dragStart.subscribe(t.onDragStart.bind(t)),i.dragging.subscribe(t.onDragging.bind(t)),i.dragEnd.subscribe(t.onDragEnd.bind(t)))}),e.forEachRemovedItem(n)}},t.prototype.onDragStart=function(){var t,e;this.positions={};var n=0;try{for(var i=Object(l.__values)(this.draggables.toArray()),r=i.next();!r.done;r=i.next()){var o=r.value,s=o.element,a=parseInt(s.offsetLeft.toString(),0);this.positions[o.dragModel.prop]={left:a,right:a+parseInt(s.offsetWidth.toString(),0),index:n++,element:s}}}catch(u){t={error:u}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.onDragging=function(t){var e=t.model,n=this.positions[e.prop],i=this.isTarget(e,t.event);i?this.lastDraggingIndex!==i.i&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,newIndex:i.i,initialIndex:n.index}),this.lastDraggingIndex=i.i):this.lastDraggingIndex!==n.index&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,initialIndex:n.index}),this.lastDraggingIndex=n.index)},t.prototype.onDragEnd=function(t){var e=t.element,n=t.model,i=this.positions[n.prop],r=this.isTarget(n,t.event);r&&this.reorder.emit({prevIndex:i.index,newIndex:r.i,model:n}),this.lastDraggingIndex=void 0,e.style.left=\"auto\"},t.prototype.isTarget=function(t,e){var n=0,i=this.document.elementsFromPoint(e.x||e.clientX,e.y||e.clientY),r=function(e){var r=o.positions[e];if(t.prop!==e&&i.find(function(t){return t===r.element}))return{value:{pos:r,i:n}};n++},o=this;for(var s in this.positions){var a=r(s);if(\"object\"==typeof a)return a.value}},t.prototype.createMapDiffs=function(){return this.draggables.toArray().reduce(function(t,e){return t[e.dragModel.$$id]=e,t},{})},t}(),m=function(){function t(){this.pressEnabled=!0,this.duration=500,this.longPressStart=new i.n,this.longPressing=new i.n,this.longPressEnd=new i.n,this.mouseX=0,this.mouseY=0}return Object.defineProperty(t.prototype,\"press\",{get:function(){return this.pressing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isLongPress\",{get:function(){return this.isLongPressing},enumerable:!0,configurable:!0}),t.prototype.onMouseDown=function(t){var e=this;if(1===t.which&&this.pressEnabled&&!t.target.classList.contains(\"resize-handle\")){this.mouseX=t.clientX,this.mouseY=t.clientY,this.pressing=!0,this.isLongPressing=!1;var n=Object(o.a)(document,\"mouseup\");this.subscription=n.subscribe(function(t){return e.onMouseup()}),this.timeout=setTimeout(function(){e.isLongPressing=!0,e.longPressStart.emit({event:t,model:e.pressModel}),e.subscription.add(Object(o.a)(document,\"mousemove\").pipe(Object(a.a)(n)).subscribe(function(t){return e.onMouseMove(t)})),e.loop(t)},this.duration),this.loop(t)}},t.prototype.onMouseMove=function(t){if(this.pressing&&!this.isLongPressing){var e=Math.abs(t.clientX-this.mouseX)>10,n=Math.abs(t.clientY-this.mouseY)>10;(e||n)&&this.endPress()}},t.prototype.loop=function(t){var e=this;this.isLongPressing&&(this.timeout=setTimeout(function(){e.longPressing.emit({event:t,model:e.pressModel}),e.loop(t)},50))},t.prototype.endPress=function(){clearTimeout(this.timeout),this.isLongPressing=!1,this.pressing=!1,this._destroySubscription(),this.longPressEnd.emit({model:this.pressModel})},t.prototype.onMouseup=function(){this.endPress()},t.prototype.ngOnDestroy=function(){this._destroySubscription()},t.prototype._destroySubscription=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)},t}(),y=function(){function t(t,e,n){this.ngZone=t,this.renderer=n,this.scrollbarV=!1,this.scrollbarH=!1,this.scroll=new i.n,this.scrollYPos=0,this.scrollXPos=0,this.prevScrollYPos=0,this.prevScrollXPos=0,this._scrollEventListener=null,this.element=e.nativeElement}return t.prototype.ngOnInit=function(){if(this.scrollbarV||this.scrollbarH){var t=this.renderer;this.parentElement=t.parentNode(t.parentNode(this.element)),this._scrollEventListener=this.onScrolled.bind(this),this.parentElement.addEventListener(\"scroll\",this._scrollEventListener)}},t.prototype.ngOnDestroy=function(){this._scrollEventListener&&(this.parentElement.removeEventListener(\"scroll\",this._scrollEventListener),this._scrollEventListener=null)},t.prototype.setOffset=function(t){this.parentElement&&(this.parentElement.scrollTop=t)},t.prototype.onScrolled=function(t){var e=this,n=t.currentTarget;requestAnimationFrame(function(){e.scrollYPos=n.scrollTop,e.scrollXPos=n.scrollLeft,e.updateOffset()})},t.prototype.updateOffset=function(){var t;this.scrollYPos<this.prevScrollYPos?t=\"down\":this.scrollYPos>this.prevScrollYPos&&(t=\"up\"),this.scroll.emit({direction:t,scrollYPos:this.scrollYPos,scrollXPos:this.scrollXPos}),this.prevScrollYPos=this.scrollYPos,this.prevScrollXPos=this.scrollXPos},t}();function w(){return\"\"}function b(t){return null==t?w:\"number\"==typeof t?v:-1!==t.indexOf(\".\")?_:x}function v(t,e){if(null==t)return\"\";if(!t||null==e)return t;var n=t[e];return null==n?\"\":n}function x(t,e){if(null==t)return\"\";if(!t||!e)return t;var n=t[e];return null==n?\"\":n}function _(t,e){if(null==t)return\"\";if(!t||!e)return t;var n=t[e];if(void 0!==n)return n;n=t;var i=e.split(\".\");if(i.length)for(var r=0;r<i.length;r++)if(null==(n=n[i[r]]))return\"\";return n}function C(t){return t&&function(e){return b(t)(e,t)}}function P(t,e,n){if(e&&n){var i={},r=t.length,o=null;i[0]=new O;for(var s=t.reduce(function(t,e){var i=n(e);return-1===t.indexOf(i)&&t.push(i),t},[]),a=0;a<r;a++)i[n(t[a])]=new O(t[a]);for(a=0;a<r;a++){var u=0,c=e((o=i[n(t[a])]).row);c&&s.indexOf(c)>-1&&(u=c),o.parent=i[u],o.row.level=o.parent.row.level+1,o.parent.children.push(o)}var h=[];return i[0].flatten(function(){h=Object(l.__spread)(h,[this.row])},!0),h}return t}var O=function(){function t(t){void 0===t&&(t=null),t||(t={level:-1,treeStatus:\"expanded\"}),this.row=t,this.parent=null,this.children=[]}return t.prototype.flatten=function(t,e){if(\"expanded\"===this.row.treeStatus)for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n];t.apply(r,Array.prototype.slice.call(arguments,2)),e&&r.flatten.apply(r,arguments)}},t}();function S(t){return(t=(t=(t=t.replace(/[^a-zA-Z0-9 ]/g,\" \")).replace(/([a-z](?=[A-Z]))/g,\"$1 \")).replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,\"\").trim().toLowerCase()).replace(/([ 0-9]+)([a-zA-Z])/g,function(t,e,n){return e.trim()+n.toUpperCase()})}function j(t){var e,n;if(t){var i=!1;try{for(var r=Object(l.__values)(t),o=r.next();!o.done;o=r.next()){var s=o.value;s.$$id||(s.$$id=(\"0000\"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)),R(s.prop)&&s.name&&(s.prop=S(s.name)),s.$$valueGetter||(s.$$valueGetter=b(s.prop)),!R(s.prop)&&R(s.name)&&(s.name=String(s.prop).replace(/([A-Z])/g,function(t){return\" \"+t}).replace(/^./,function(t){return t.toUpperCase()})),R(s.prop)&&R(s.name)&&(s.name=\"\"),s.hasOwnProperty(\"resizeable\")||(s.resizeable=!0),s.hasOwnProperty(\"sortable\")||(s.sortable=!0),s.hasOwnProperty(\"draggable\")||(s.draggable=!0),s.hasOwnProperty(\"canAutoResize\")||(s.canAutoResize=!0),s.hasOwnProperty(\"width\")||(s.width=150),s.hasOwnProperty(\"isTreeColumn\")&&s.isTreeColumn&&!i?i=!0:s.isTreeColumn=!1}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}}function R(t){return null==t}var I={standard:\"standard\",flex:\"flex\",force:\"force\"},k={single:\"single\",multi:\"multi\",multiClick:\"multiClick\",cell:\"cell\",checkbox:\"checkbox\"},T={single:\"single\",multi:\"multi\"},H=function(){return function(t){this.template=t}}(),E=function(){function t(t){this.columnChangesService=t,this.isFirstChange=!0}return Object.defineProperty(t.prototype,\"cellTemplate\",{get:function(){return this._cellTemplateInput||this._cellTemplateQuery},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"headerTemplate\",{get:function(){return this._headerTemplateInput||this._headerTemplateQuery},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"treeToggleTemplate\",{get:function(){return this._treeToggleTemplateInput||this._treeToggleTemplateQuery},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this.isFirstChange?this.isFirstChange=!1:this.columnChangesService.onInputChange()},t}();function F(t){var e,n,i={left:[],center:[],right:[]};if(t)try{for(var r=Object(l.__values)(t),o=r.next();!o.done;o=r.next()){var s=o.value;s.frozenLeft?i.left.push(s):s.frozenRight?i.right.push(s):i.center.push(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function D(t,e){return{left:z(t.left),center:z(t.center),right:z(t.right),total:Math.floor(z(e))}}function z(t,e){var n,i,r=0;if(t)try{for(var o=Object(l.__values)(t),s=o.next();!s.done;s=o.next()){var a=s.value;r+=parseFloat(e&&a[e]?a[e]:a.width)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}function A(t){var e=[],n=F(t);return e.push({type:\"left\",columns:n.left}),e.push({type:\"center\",columns:n.center}),e.push({type:\"right\",columns:n.right}),e}var V=function(){function t(){this.treeArray=[]}return t.prototype.clearCache=function(){this.treeArray=[]},t.prototype.initCache=function(t){var e=t.rows,n=t.rowHeight,i=t.detailRowHeight,r=t.externalVirtual,o=t.rowCount,s=t.rowIndexes,a=t.rowExpansions,l=\"function\"==typeof n,u=\"function\"==typeof i;if(!l&&isNaN(n))throw new Error(\"Row Height cache initialization failed. Please ensure that 'rowHeight' is a\\n        valid number or function value: (\"+n+\") when 'scrollbarV' is enabled.\");if(!u&&isNaN(i))throw new Error(\"Row Height cache initialization failed. Please ensure that 'detailRowHeight' is a\\n        valid number or function value: (\"+i+\") when 'scrollbarV' is enabled.\");var c=r?o:e.length;this.treeArray=new Array(c);for(var h=0;h<c;++h)this.treeArray[h]=0;for(h=0;h<c;++h){var p=e[h],f=n;l&&(f=n(p));var d=a.get(p);p&&1===d&&(f+=u?i(p,s.get(p)):i),this.update(h,f)}},t.prototype.getRowIndex=function(t){return 0===t?0:this.calcRowIndex(t)},t.prototype.update=function(t,e){if(!this.treeArray.length)throw new Error(\"Update at index \"+t+\" with value \"+e+\" failed:\\n        Row Height cache not initialized.\");var n=this.treeArray.length;for(t|=0;t<n;)this.treeArray[t]+=e,t|=t+1},t.prototype.query=function(t){if(!this.treeArray.length)throw new Error(\"query at index \"+t+\" failed: Fenwick tree array not initialized.\");var e=0;for(t|=0;t>=0;)e+=this.treeArray[t],t=(t&t+1)-1;return e},t.prototype.queryBetween=function(t,e){return this.query(e)-this.query(t-1)},t.prototype.calcRowIndex=function(t){if(!this.treeArray.length)return 0;for(var e=-1,n=this.treeArray.length,i=Math.pow(2,n.toString(2).length-1);0!==i;i>>=1){var r=e+i;r<n&&t>=this.treeArray[r]&&(t-=this.treeArray[r],e=r)}return e+1},t}(),M={},W=\"undefined\"!=typeof document?document.createElement(\"div\").style:void 0,B=function(){var t=\"undefined\"!=typeof window?window.getComputedStyle(document.documentElement,\"\"):void 0,e=void 0!==t?Array.prototype.slice.call(t).join(\"\").match(/-(moz|webkit|ms)-/):null,n=null!==e?e[1]:void 0,i=void 0!==n?\"WebKit|Moz|MS|O\".match(new RegExp(\"(\"+n+\")\",\"i\"))[1]:void 0;return i?{dom:i,lowercase:n,css:\"-\"+n+\"-\",js:n[0].toUpperCase()+n.substr(1)}:void 0}();function G(t){var e=S(t);return M[e]||(void 0!==B&&void 0!==W[B.css+t]?M[e]=B.css+t:void 0!==W[t]&&(M[e]=t)),M[e]}var L=\"undefined\"!=typeof window?G(\"transform\"):void 0,$=\"undefined\"!=typeof window?G(\"backfaceVisibility\"):void 0,X=\"undefined\"!=typeof window?!!G(\"transform\"):void 0,Y=\"undefined\"!=typeof window?!!G(\"perspective\"):void 0,N=\"undefined\"!=typeof window?window.navigator.userAgent:\"Chrome\",q=/Safari\\//.test(N)&&!/Chrome\\//.test(N);function U(t,e,n){void 0!==L&&X?!q&&Y?(t[L]=\"translate3d(\"+e+\"px, \"+n+\"px, 0)\",t[$]=\"hidden\"):t[S(L)]=\"translate(\"+e+\"px, \"+n+\"px)\":(t.top=n+\"px\",t.left=e+\"px\")}var K=function(){function t(t){var e=this;this.cd=t,this.selected=[],this.scroll=new i.n,this.page=new i.n,this.activate=new i.n,this.select=new i.n,this.detailToggle=new i.n,this.rowContextmenu=new i.n(!1),this.treeAction=new i.n,this.rowHeightsCache=new V,this.temp=[],this.offsetY=0,this.indexes={},this.rowIndexes=new Map,this.rowExpansions=new Map,this.getDetailRowHeight=function(t,n){if(!e.rowDetail)return 0;var i=e.rowDetail.rowHeight;return\"function\"==typeof i?i(t,n):i},this.rowTrackingFn=function(t,n){var i=e.getRowIndex(n);return e.trackByProp?n[e.trackByProp]:i}}return Object.defineProperty(t.prototype,\"pageSize\",{get:function(){return this._pageSize},set:function(t){this._pageSize=t,this.recalcLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"rows\",{get:function(){return this._rows},set:function(t){this._rows=t,this.rowExpansions.clear(),this.recalcLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"columns\",{get:function(){return this._columns},set:function(t){this._columns=t;var e=F(t);this.columnGroupWidths=D(e,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"offset\",{get:function(){return this._offset},set:function(t){this._offset=t,this.recalcLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"rowCount\",{get:function(){return this._rowCount},set:function(t){this._rowCount=t,this.recalcLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"bodyWidth\",{get:function(){return this.scrollbarH?this.innerWidth+\"px\":\"100%\"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"bodyHeight\",{get:function(){return this._bodyHeight},set:function(t){this._bodyHeight=this.scrollbarV?t+\"px\":\"auto\",this.recalcLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"selectEnabled\",{get:function(){return!!this.selectionType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"scrollHeight\",{get:function(){if(this.scrollbarV&&this.virtualization&&this.rowCount)return this.rowHeightsCache.query(this.rowCount-1)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.rowDetail&&(this.listener=this.rowDetail.toggle.subscribe(function(e){var n=e.type,i=e.value;\"row\"===n&&t.toggleRowExpansion(i),\"all\"===n&&t.toggleAllRows(i),t.updateIndexes(),t.updateRows(),t.cd.markForCheck()})),this.groupHeader&&(this.listener=this.groupHeader.toggle.subscribe(function(e){var n=e.type,i=e.value;\"group\"===n&&t.toggleRowExpansion(i),\"all\"===n&&t.toggleAllRows(i),t.updateIndexes(),t.updateRows(),t.cd.markForCheck()}))},t.prototype.ngOnDestroy=function(){(this.rowDetail||this.groupHeader)&&this.listener.unsubscribe()},t.prototype.updateOffsetY=function(t){this.scroller&&(this.scrollbarV&&this.virtualization&&t?t=this.rowHeightsCache.query(this.pageSize*t-1):this.scrollbarV&&!this.virtualization&&(t=0),this.scroller.setOffset(t||0))},t.prototype.onBodyScroll=function(t){var e=t.scrollYPos,n=t.scrollXPos;this.offsetY===e&&this.offsetX===n||this.scroll.emit({offsetY:e,offsetX:n}),this.offsetY=e,this.offsetX=n,this.updateIndexes(),this.updatePage(t.direction),this.updateRows()},t.prototype.updatePage=function(t){var e=this.indexes.first/this.pageSize;\"up\"===t?e=Math.ceil(e):\"down\"===t&&(e=Math.floor(e)),void 0===t||isNaN(e)||this.page.emit({offset:e})},t.prototype.updateRows=function(){var t=this.indexes,e=t.last,n=t.first,i=0,r=[];if(this.rowIndexes.clear(),this.groupedRows)for(;n<e&&n<this.groupedRows.length;)r[i]=this.groupedRows[n],i++,n++;else for(;n<e&&n<this.rowCount;){var o=this.rows[n];o&&(this.rowIndexes.set(o,n),r[i]=o),i++,n++}this.temp=r},t.prototype.getRowHeight=function(t){return\"function\"==typeof this.rowHeight?this.rowHeight(t):this.rowHeight},t.prototype.getGroupHeight=function(t){var e=0;if(t.value)for(var n=0;n<t.value.length;n++)e+=this.getRowAndDetailHeight(t.value[n]);return e},t.prototype.getRowAndDetailHeight=function(t){var e=this.getRowHeight(t);return 1===this.rowExpansions.get(t)&&(e+=this.getDetailRowHeight(t)),e},t.prototype.getRowsStyles=function(t){var e={};if(this.groupedRows&&(e.width=this.columnGroupWidths.total),this.scrollbarV&&this.virtualization){var n=0;if(this.groupedRows){var i=t[t.length-1];n=i?this.getRowIndex(i):0}else n=this.getRowIndex(t);U(e,0,this.rowHeightsCache.query(n-1))}return e},t.prototype.getBottomSummaryRowStyles=function(){if(!this.scrollbarV||!this.rows||!this.rows.length)return null;var t={position:\"absolute\"};return U(t,0,this.rowHeightsCache.query(this.rows.length-1)),t},t.prototype.hideIndicator=function(){var t=this;setTimeout(function(){return t.loadingIndicator=!1},500)},t.prototype.updateIndexes=function(){var t=0,e=0;if(this.scrollbarV)if(this.virtualization){var n=parseInt(this.bodyHeight,0);t=this.rowHeightsCache.getRowIndex(this.offsetY),e=this.rowHeightsCache.getRowIndex(n+this.offsetY)+1}else t=0,e=this.rowCount;else this.externalPaging||(t=Math.max(this.offset*this.pageSize,0)),e=Math.min(t+this.pageSize,this.rowCount);this.indexes={first:t,last:e}},t.prototype.refreshRowHeightCache=function(){!this.scrollbarV||this.scrollbarV&&!this.virtualization||(this.rowHeightsCache.clearCache(),this.rows&&this.rows.length&&this.rowHeightsCache.initCache({rows:this.rows,rowHeight:this.rowHeight,detailRowHeight:this.getDetailRowHeight,externalVirtual:this.scrollbarV&&this.externalPaging,rowCount:this.rowCount,rowIndexes:this.rowIndexes,rowExpansions:this.rowExpansions}))},t.prototype.getAdjustedViewPortIndex=function(){var t=this.indexes.first;return this.scrollbarV&&this.virtualization&&this.rowHeightsCache.query(t-1)<=this.offsetY?t-1:t},t.prototype.toggleRowExpansion=function(t){var e=this.getAdjustedViewPortIndex(),n=this.rowExpansions.get(t);if(this.scrollbarV&&this.virtualization){var i=this.getDetailRowHeight(t)*(n?-1:1),r=this.getRowIndex(t);this.rowHeightsCache.update(r,i)}n=n^=1,this.rowExpansions.set(t,n),this.detailToggle.emit({rows:[t],currentIndex:e})},t.prototype.toggleAllRows=function(t){var e,n;this.rowExpansions.clear();var i=t?1:0,r=this.getAdjustedViewPortIndex();try{for(var o=Object(l.__values)(this.rows),s=o.next();!s.done;s=o.next())this.rowExpansions.set(s.value,i)}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.scrollbarV&&this.recalcLayout(),this.detailToggle.emit({rows:this.rows,currentIndex:r})},t.prototype.recalcLayout=function(){this.refreshRowHeightCache(),this.updateIndexes(),this.updateRows()},t.prototype.columnTrackingFn=function(t,e){return e.$$id},t.prototype.stylesByGroup=function(t){var e=this.columnGroupWidths,n=this.offsetX,i={width:e[t]+\"px\"};if(\"left\"===t)U(i,n,0);else if(\"right\"===t){var r=parseInt(this.innerWidth+\"\",0);U(i,-1*(e.total-r-n),0)}return i},t.prototype.getRowExpanded=function(t){var e,n;if(0===this.rowExpansions.size&&this.groupExpansionDefault)try{for(var i=Object(l.__values)(this.groupedRows),r=i.next();!r.done;r=i.next())this.rowExpansions.set(r.value,1)}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return 1===this.rowExpansions.get(t)},t.prototype.getRowIndex=function(t){return this.rowIndexes.get(t)||0},t.prototype.onTreeAction=function(t){this.treeAction.emit({row:t})},t}(),Z=function(){function t(t){this.cd=t,this.sort=new i.n,this.reorder=new i.n,this.resize=new i.n,this.select=new i.n,this.columnContextmenu=new i.n(!1),this._columnGroupWidths={total:100},this._styleByGroup={left:{},center:{},right:{}}}return Object.defineProperty(t.prototype,\"innerWidth\",{get:function(){return this._innerWidth},set:function(t){var e=this;this._innerWidth=t,setTimeout(function(){if(e._columns){var t=F(e._columns);e._columnGroupWidths=D(t,e._columns),e.setStylesByGroup()}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"headerHeight\",{get:function(){return this._headerHeight},set:function(t){this._headerHeight=\"auto\"!==t?t+\"px\":t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"columns\",{get:function(){return this._columns},set:function(t){var e=this;this._columns=t;var n=F(t);this._columnsByPin=A(t),setTimeout(function(){e._columnGroupWidths=D(n,t),e.setStylesByGroup()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"offsetX\",{get:function(){return this._offsetX},set:function(t){this._offsetX=t,this.setStylesByGroup()},enumerable:!0,configurable:!0}),t.prototype.onLongPressStart=function(t){var e=t.event;t.model.dragging=!0,this.dragEventTarget=e},t.prototype.onLongPressEnd=function(t){var e=this,n=t.model;this.dragEventTarget=t.event,setTimeout(function(){var t=e._columns.find(function(t){return t.$$id===n.$$id});t&&(t.dragging=!1)},5)},Object.defineProperty(t.prototype,\"headerWidth\",{get:function(){return this.scrollbarH?this.innerWidth+\"px\":\"100%\"},enumerable:!0,configurable:!0}),t.prototype.trackByGroups=function(t,e){return e.type},t.prototype.columnTrackingFn=function(t,e){return e.$$id},t.prototype.onColumnResized=function(t,e){t<=e.minWidth?t=e.minWidth:t>=e.maxWidth&&(t=e.maxWidth),this.resize.emit({column:e,prevValue:e.width,newValue:t})},t.prototype.onColumnReordered=function(t){var e=t.prevIndex,n=t.newIndex,i=t.model,r=this.getColumn(n);r.isTarget=!1,r.targetMarkerContext=void 0,this.reorder.emit({column:i,prevValue:e,newValue:n})},t.prototype.onTargetChanged=function(t){var e=t.prevIndex,n=t.newIndex,i=t.initialIndex;if(e||0===e){var r=this.getColumn(e);r.isTarget=!1,r.targetMarkerContext=void 0}if(n||0===n){var o=this.getColumn(n);o.isTarget=!0,i!==n&&(o.targetMarkerContext={class:\"targetMarker \".concat(i>n?\"dragFromRight\":\"dragFromLeft\")})}},t.prototype.getColumn=function(t){var e=this._columnsByPin[0].columns.length;if(t<e)return this._columnsByPin[0].columns[t];var n=this._columnsByPin[1].columns.length;return t<e+n?this._columnsByPin[1].columns[t-e]:this._columnsByPin[2].columns[t-e-n]},t.prototype.onSort=function(t){var e=t.column,n=t.prevValue,i=t.newValue;if(!e.dragging){var r=this.calcNewSorts(e,n,i);this.sort.emit({sorts:r,column:e,prevValue:n,newValue:i})}},t.prototype.calcNewSorts=function(t,e,n){var i=0;this.sorts||(this.sorts=[]);var r=this.sorts.map(function(e,n){return(e=Object(l.__assign)({},e)).prop===t.prop&&(i=n),e});return void 0===n?r.splice(i,1):e?r[i].dir=n:(this.sortType===T.single&&r.splice(0,this.sorts.length),r.push({dir:n,prop:t.prop})),r},t.prototype.setStylesByGroup=function(){this._styleByGroup.left=this.calcStylesByGroup(\"left\"),this._styleByGroup.center=this.calcStylesByGroup(\"center\"),this._styleByGroup.right=this.calcStylesByGroup(\"right\"),this.cd.detectChanges()},t.prototype.calcStylesByGroup=function(t){var e=this._columnGroupWidths,n={width:e[t]+\"px\"};return\"center\"===t?U(n,-1*this.offsetX,0):\"right\"===t&&U(n,-1*(e.total-this.innerWidth),0),n},t}();function Q(t,e,n){var i,r,o;n=n||{};var s=null,a=0;function l(){a=!1===n.leading?0:+new Date,s=null,o=t.apply(i,r)}return function(){var u=+new Date;a||!1!==n.leading||(a=u);var c=e-(u-a);return i=this,r=arguments,c<=0?(clearTimeout(s),s=null,a=u,o=t.apply(i,r)):s||!1===n.trailing||(s=setTimeout(l,c)),o}}function J(t,e){var n,i;try{for(var r=Object(l.__values)(e),o=r.next();!o.done;o=r.next()){var s=t.indexOf(o.value);t.splice(s,1)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}function tt(t,e){var n,i;void 0===e&&(e=300);var r=0;try{for(var o=Object(l.__values)(t),s=o.next();!s.done;s=o.next())r+=s.value.width||e}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}function et(t,e){if(null==t&&(t=0),null==e&&(e=0),t instanceof Date&&e instanceof Date){if(t<e)return-1;if(t>e)return 1}else if(isNaN(parseFloat(t))||!isFinite(t)||isNaN(parseFloat(e))||!isFinite(e)){if(t=String(t),e=String(e),t.toLowerCase()<e.toLowerCase())return-1;if(t.toLowerCase()>e.toLowerCase())return 1}else{if(parseFloat(t)<parseFloat(e))return-1;if(parseFloat(t)>parseFloat(e))return 1}return 0}var nt=function(){function t(t,e,n,r,o,a,u){this.scrollbarHelper=t,this.dimensionsHelper=e,this.cd=n,this.columnChangesService=a,this.configuration=u,this.selected=[],this.scrollbarV=!1,this.scrollbarH=!1,this.rowHeight=30,this.columnMode=I.standard,this.headerHeight=30,this.footerHeight=0,this.externalPaging=!1,this.externalSorting=!1,this.loadingIndicator=!1,this.reorderable=!0,this.swapColumns=!0,this.sortType=T.single,this.sorts=[],this.cssClasses={sortAscending:\"datatable-icon-up\",sortDescending:\"datatable-icon-down\",pagerLeftArrow:\"datatable-icon-left\",pagerRightArrow:\"datatable-icon-right\",pagerPrevious:\"datatable-icon-prev\",pagerNext:\"datatable-icon-skip\"},this.messages={emptyMessage:\"No data to display\",totalMessage:\"total\",selectedMessage:\"selected\"},this.groupExpansionDefault=!1,this.selectAllRowsOnPage=!1,this.virtualization=!0,this.summaryRow=!1,this.summaryHeight=30,this.summaryPosition=\"top\",this.scroll=new i.n,this.activate=new i.n,this.select=new i.n,this.sort=new i.n,this.page=new i.n,this.reorder=new i.n,this.resize=new i.n,this.tableContextmenu=new i.n(!1),this.treeAction=new i.n,this.rowCount=0,this._offsetX=new s.a(0),this._count=0,this._offset=0,this._subscriptions=[],this.rowIdentity=function(t){return t},this.element=r.nativeElement,this.rowDiffer=o.find({}).create(),this.configuration&&this.configuration.messages&&(this.messages=Object(l.__assign)({},this.configuration.messages))}return Object.defineProperty(t.prototype,\"rows\",{get:function(){return this._rows},set:function(t){this._rows=t,t&&(this._internalRows=Object(l.__spread)(t)),this.externalSorting||this.sortInternalRows(),this._internalRows=P(this._internalRows,C(this.treeFromRelation),C(this.treeToRelation)),this.recalculate(),this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"groupRowsBy\",{get:function(){return this._groupRowsBy},set:function(t){t&&(this._groupRowsBy=t,this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"columns\",{get:function(){return this._columns},set:function(t){t&&(this._internalColumns=Object(l.__spread)(t),j(this._internalColumns),this.recalculateColumns()),this._columns=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"limit\",{get:function(){return this._limit},set:function(t){this._limit=t,this.recalculate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"count\",{get:function(){return this._count},set:function(t){this._count=t,this.recalculate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"offset\",{get:function(){return Math.max(Math.min(this._offset,Math.ceil(this.rowCount/this.pageSize)-1),0)},set:function(t){this._offset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isFixedHeader\",{get:function(){var t=this.headerHeight;return\"string\"!=typeof t||\"auto\"!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isFixedRow\",{get:function(){return\"auto\"!==this.rowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isVertScroll\",{get:function(){return this.scrollbarV},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isVirtualized\",{get:function(){return this.virtualization},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isHorScroll\",{get:function(){return this.scrollbarH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isSelectable\",{get:function(){return void 0!==this.selectionType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isCheckboxSelection\",{get:function(){return this.selectionType===k.checkbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isCellSelection\",{get:function(){return this.selectionType===k.cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isSingleSelection\",{get:function(){return this.selectionType===k.single},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isMultiSelection\",{get:function(){return this.selectionType===k.multi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isMultiClickSelection\",{get:function(){return this.selectionType===k.multiClick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"columnTemplates\",{get:function(){return this._columnTemplates},set:function(t){this._columnTemplates=t,this.translateColumns(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"allRowsSelected\",{get:function(){var t=this.rows&&this.selected&&this.selected.length===this.rows.length;if(this.selectAllRowsOnPage){var e=this.bodyComponent.indexes;t=this.selected.length===e.last-e.first}return this.selected&&this.rows&&0!==this.rows.length&&t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.recalculate()},t.prototype.ngAfterViewInit=function(){var t=this;this.externalSorting||this.sortInternalRows(),\"undefined\"!=typeof requestAnimationFrame&&requestAnimationFrame(function(){t.recalculate(),t.externalPaging&&t.scrollbarV&&t.page.emit({count:t.count,pageSize:t.pageSize,limit:t.limit,offset:0})})},t.prototype.ngAfterContentInit=function(){var t=this;this.columnTemplates.changes.subscribe(function(e){return t.translateColumns(e)}),this.listenForColumnInputChanges()},t.prototype.translateColumns=function(t){if(t){var e=t.toArray();e.length&&(this._internalColumns=function(t){var e,n,i,r,o=[];try{for(var s=Object(l.__values)(t),a=s.next();!a.done;a=s.next()){var u=a.value,c={},h=Object.getOwnPropertyNames(u);try{for(var p=(i=void 0,Object(l.__values)(h)),f=p.next();!f.done;f=p.next()){var d=f.value;c[d]=u[d]}}catch(g){i={error:g}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(i)throw i.error}}u.headerTemplate&&(c.headerTemplate=u.headerTemplate),u.cellTemplate&&(c.cellTemplate=u.cellTemplate),u.summaryFunc&&(c.summaryFunc=u.summaryFunc),u.summaryTemplate&&(c.summaryTemplate=u.summaryTemplate),o.push(c)}}catch(m){e={error:m}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o}(e),j(this._internalColumns),this.recalculateColumns(),this.sortInternalRows(),this.cd.markForCheck())}},t.prototype.groupArrayBy=function(t,e){var n=new Map;return t.forEach(function(t){var i=t[e];n.has(i)?n.get(i).push(t):n.set(i,[t])}),Array.from(n,function(t){return{key:t[0],value:t[1]}})},t.prototype.ngDoCheck=function(){this.rowDiffer.diff(this.rows)&&(this.externalSorting?this._internalRows=Object(l.__spread)(this.rows):this.sortInternalRows(),this._internalRows=P(this._internalRows,C(this.treeFromRelation),C(this.treeToRelation)),this.recalculatePages(),this.cd.markForCheck())},t.prototype.recalculate=function(){this.recalculateDims(),this.recalculateColumns()},t.prototype.onWindowResize=function(){this.recalculate()},t.prototype.recalculateColumns=function(t,e,n){if(void 0===t&&(t=this._internalColumns),void 0===e&&(e=-1),void 0===n&&(n=this.scrollbarH),t){var i=this._innerWidth;return this.scrollbarV&&(i-=this.scrollbarHelper.width),this.columnMode===I.force?function(t,n,i,r,o){var s,a,u,c;void 0===o&&(o=300);var h=t.slice(e+1,t.length).filter(function(t){return!1!==t.canAutoResize});try{for(var p=Object(l.__values)(h),f=p.next();!f.done;f=p.next())(x=f.value).$$oldWidth||(x.$$oldWidth=x.width)}catch(C){s={error:C}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}var d=0,g=!1,m=tt(t,o),y=n-m,w=[];do{d=y/h.length,g=m>=n;try{for(var b=(u=void 0,Object(l.__values)(h)),v=b.next();!v.done;v=b.next()){var x=v.value;if(g&&r)x.width=x.$$oldWidth||x.width||o;else{var _=(x.width||o)+d;x.minWidth&&_<x.minWidth?(x.width=x.minWidth,w.push(x)):x.maxWidth&&_>x.maxWidth?(x.width=x.maxWidth,w.push(x)):x.width=_}x.width=Math.max(0,x.width)}}catch(P){u={error:P}}finally{try{v&&!v.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}y=n-(m=tt(t)),J(h,w)}while(y>1&&0!==h.length)}(t,i,0,n):this.columnMode===I.flex&&(o=i,s=function(t,e){var n,i,r=0;try{for(var o=Object(l.__values)(t),s=o.next();!s.done;s=o.next()){r+=s.value.width}}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}(r=t),a=function(t){var e,n,i=0;try{for(var r=Object(l.__values)(t),o=r.next();!o.done;o=r.next())i+=o.value.flexGrow||0}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(r),u=F(r),s!==o&&function(t,e,n){var i,r,o,s;for(var a in t)try{for(var u=(i=void 0,Object(l.__values)(t[a])),c=u.next();!c.done;c=u.next())(m=c.value).canAutoResize?m.width=0:(e-=m.width,n-=m.flexGrow?m.flexGrow:0)}catch(w){i={error:w}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}var h={},p=e;do{var f=p/n;for(var a in p=0,t)try{for(var d=(o=void 0,Object(l.__values)(t[a])),g=d.next();!g.done;g=d.next()){var m;if((m=g.value).canAutoResize&&!h[m.prop]){var y=m.width+m.flexGrow*f;void 0!==m.minWidth&&y<m.minWidth?(p+=y-m.minWidth,m.width=m.minWidth,h[m.prop]=!0):m.width=y}}}catch(b){o={error:b}}finally{try{g&&!g.done&&(s=d.return)&&s.call(d)}finally{if(o)throw o.error}}}while(0!==p)}(u,o,a)),t}var r,o,s,a,u},t.prototype.recalculateDims=function(){var t=this.dimensionsHelper.getDimensions(this.element);if(this._innerWidth=Math.floor(t.width),this.scrollbarV){var e=t.height;this.headerHeight&&(e-=this.headerHeight),this.footerHeight&&(e-=this.footerHeight),this.bodyHeight=e}this.recalculatePages()},t.prototype.recalculatePages=function(){this.pageSize=this.calcPageSize(),this.rowCount=this.calcRowCount()},t.prototype.onBodyPage=function(t){this.externalPaging&&!this.virtualization||(this.offset=t.offset,this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}))},t.prototype.onBodyScroll=function(t){this._offsetX.next(t.offsetX),this.scroll.emit(t),this.cd.detectChanges()},t.prototype.onFooterPage=function(t){this.offset=t.page-1,this.bodyComponent.updateOffsetY(this.offset),this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}),this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected}))},t.prototype.calcPageSize=function(t){if(void 0===t&&(t=this.rows),this.scrollbarV&&this.virtualization){var e=Math.ceil(this.bodyHeight/this.rowHeight);return Math.max(e,0)}return void 0!==this.limit?this.limit:t?t.length:0},t.prototype.calcRowCount=function(t){return void 0===t&&(t=this.rows),this.externalPaging?this.count:t?this.groupedRows?this.groupedRows.length:null!=this.treeFromRelation&&null!=this.treeToRelation?this._internalRows.length:t.length:0},t.prototype.onColumnContextmenu=function(t){this.tableContextmenu.emit({event:t.event,type:\"header\",content:t.column})},t.prototype.onRowContextmenu=function(t){this.tableContextmenu.emit({event:t.event,type:\"body\",content:t.row})},t.prototype.onColumnResize=function(t){var e=t.column,n=t.newValue;if(void 0!==e){var i,r=this._internalColumns.map(function(t,r){return(t=Object(l.__assign)({},t)).$$id===e.$$id&&(i=r,t.width=n,t.$$oldWidth=n),t});this.recalculateColumns(r,i),this._internalColumns=r,this.resize.emit({column:e,newValue:n})}},t.prototype.onColumnReorder=function(t){var e=t.column,n=t.newValue,i=t.prevValue,r=this._internalColumns.map(function(t){return Object(l.__assign)({},t)});if(this.swapColumns){var o=r[n];r[n]=e,r[i]=o}else if(n>i){for(var s=r[i],a=i;a<n;a++)r[a]=r[a+1];r[n]=s}else{for(s=r[i],a=i;a>n;a--)r[a]=r[a-1];r[n]=s}this._internalColumns=r,this.reorder.emit({column:e,newValue:n,prevValue:i})},t.prototype.onColumnSort=function(t){this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected})),this.sorts=t.sorts,!1===this.externalSorting&&this.sortInternalRows(),this._internalRows=P(this._internalRows,C(this.treeFromRelation),C(this.treeToRelation)),this.offset=0,this.bodyComponent.updateOffsetY(this.offset),this.sort.emit(t)},t.prototype.onHeaderSelect=function(t){var e,n;if(this.selectAllRowsOnPage){var i=this.bodyComponent.indexes.first,r=this.bodyComponent.indexes.last,o=this.selected.length===r-i;this.selected=[],o||(e=this.selected).push.apply(e,Object(l.__spread)(this._internalRows.slice(i,r)))}else o=this.selected.length===this.rows.length,this.selected=[],o||(n=this.selected).push.apply(n,Object(l.__spread)(this.rows));this.select.emit({selected:this.selected})},t.prototype.onBodySelect=function(t){this.select.emit(t)},t.prototype.onTreeAction=function(t){var e=this,n=t.row,i=this._rows.findIndex(function(n){return n[e.treeToRelation]===t.row[e.treeToRelation]});this.treeAction.emit({row:n,rowIndex:i})},t.prototype.ngOnDestroy=function(){this._subscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.listenForColumnInputChanges=function(){var t=this;this._subscriptions.push(this.columnChangesService.columnInputChanges$.subscribe(function(){t.columnTemplates&&t.columnTemplates.notifyOnChanges()}))},t.prototype.sortInternalRows=function(){this._internalRows=function(t,e,n){if(!t)return[];if(!n||!n.length||!e)return Object(l.__spread)(t);var i=new Map;t.forEach(function(t,e){return i.set(t,e)});var r=Object(l.__spread)(t),o=e.reduce(function(t,e){return e.comparator&&\"function\"==typeof e.comparator&&(t[e.prop]=e.comparator),t},{}),s=n.map(function(t){var e=t.prop;return{prop:e,dir:t.dir,valueGetter:b(e),compareFn:o[e]||et}});return r.sort(function(t,e){var n,r;try{for(var o=Object(l.__values)(s),a=o.next();!a.done;a=o.next()){var u=a.value,c=u.prop,h=u.valueGetter,p=h(t,c),f=h(e,c),d=\"desc\"!==u.dir?u.compareFn(p,f,t,e,u.dir):-u.compareFn(p,f,t,e,u.dir);if(0!==d)return d}}catch(g){n={error:g}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i.has(t)&&i.has(e)?i.get(t)<i.get(e)?-1:1:0})}(this._internalRows,this._internalColumns,this.sorts)},Object(l.__decorate)([function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:Q(n.value,5,void 0)}),this[e]}}},Object(l.__metadata)(\"design:type\",Function),Object(l.__metadata)(\"design:paramtypes\",[]),Object(l.__metadata)(\"design:returntype\",void 0)],t.prototype,\"onWindowResize\",null),t}(),it=function(){function t(t){this.cd=t,this.sort=new i.n,this.select=new i.n,this.columnContextmenu=new i.n(!1),this.sortFn=this.onSort.bind(this),this.selectFn=this.select.emit.bind(this.select),this.cellContext={column:this.column,sortDir:this.sortDir,sortFn:this.sortFn,allRowsSelected:this.allRowsSelected,selectFn:this.selectFn}}return Object.defineProperty(t.prototype,\"allRowsSelected\",{get:function(){return this._allRowsSelected},set:function(t){this._allRowsSelected=t,this.cellContext.allRowsSelected=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"column\",{get:function(){return this._column},set:function(t){this._column=t,this.cellContext.column=t,this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"sorts\",{get:function(){return this._sorts},set:function(t){this._sorts=t,this.sortDir=this.calcSortDir(t),this.cellContext.sortDir=this.sortDir,this.sortClass=this.calcSortClass(this.sortDir),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"columnCssClasses\",{get:function(){var t,e,n=\"datatable-header-cell\";if(this.column.sortable&&(n+=\" sortable\"),this.column.resizeable&&(n+=\" resizeable\"),this.column.headerClass)if(\"string\"==typeof this.column.headerClass)n+=\" \"+this.column.headerClass;else if(\"function\"==typeof this.column.headerClass){var i=this.column.headerClass({column:this.column});if(\"string\"==typeof i)n+=i;else if(\"object\"==typeof i){var r=Object.keys(i);try{for(var o=Object(l.__values)(r),s=o.next();!s.done;s=o.next()){var a=s.value;!0===i[a]&&(n+=\" \"+a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}}var u=this.sortDir;return u&&(n+=\" sort-active sort-\"+u),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"name\",{get:function(){return void 0===this.column.headerTemplate?this.column.name:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"minWidth\",{get:function(){return this.column.minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"maxWidth\",{get:function(){return this.column.maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"width\",{get:function(){return this.column.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isCheckboxable\",{get:function(){return this.column.checkboxable&&this.column.headerCheckboxable&&this.selectionType===k.checkbox},enumerable:!0,configurable:!0}),t.prototype.onContextmenu=function(t){this.columnContextmenu.emit({event:t,column:this.column})},t.prototype.calcSortDir=function(t){var e=this;if(t&&this.column){var n=t.find(function(t){return t.prop===e.column.prop});if(n)return n.dir}},t.prototype.onSort=function(){if(this.column.sortable){var t,e=(t=this.sortDir,this.sortType===T.single?\"asc\"===t?\"desc\":\"asc\":t?\"asc\"===t?\"desc\":void 0:\"asc\");this.sort.emit({column:this.column,prevValue:this.sortDir,newValue:e})}},t.prototype.calcSortClass=function(t){return\"asc\"===t?\"sort-btn sort-asc \"+this.sortAscendingIcon:\"desc\"===t?\"sort-btn sort-desc \"+this.sortDescendingIcon:\"sort-btn\"},t}(),rt=function(){function t(){this.selectedCount=0,this.page=new i.n}return Object.defineProperty(t.prototype,\"isVisible\",{get:function(){return this.rowCount/this.pageSize>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"curPage\",{get:function(){return this.offset+1},enumerable:!0,configurable:!0}),t}(),ot=function(){function t(){this.change=new i.n,this._count=0,this._page=1,this._size=0}return Object.defineProperty(t.prototype,\"size\",{get:function(){return this._size},set:function(t){this._size=t,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"count\",{get:function(){return this._count},set:function(t){this._count=t,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"page\",{get:function(){return this._page},set:function(t){this._page=t,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"totalPages\",{get:function(){var t=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(t||0,1)},enumerable:!0,configurable:!0}),t.prototype.canPrevious=function(){return this.page>1},t.prototype.canNext=function(){return this.page<this.totalPages},t.prototype.prevPage=function(){this.selectPage(this.page-1)},t.prototype.nextPage=function(){this.selectPage(this.page+1)},t.prototype.selectPage=function(t){t>0&&t<=this.totalPages&&t!==this.page&&(this.page=t,this.change.emit({page:t}))},t.prototype.calcPages=function(t){var e=[],n=1,i=this.totalPages;t=t||this.page,5<this.totalPages&&(n=t-Math.floor(2.5),i=t+Math.floor(2.5),n<1?(n=1,i=Math.min(n+5-1,this.totalPages)):i>this.totalPages&&(n=Math.max(this.totalPages-5+1,1),i=this.totalPages));for(var r=n;r<=i;r++)e.push({number:r,text:r});return e},t}(),st=function(){return function(){}}(),at=function(){var t={up:38,down:40,return:13,escape:27,left:37,right:39};return t[t.up]=\"up\",t[t.down]=\"down\",t[t.return]=\"return\",t[t.escape]=\"escape\",t[t.left]=\"left\",t[t.right]=\"right\",t}(),lt=function(){function t(t,e,n,r){this.differs=t,this.scrollbarHelper=e,this.cd=n,this.treeStatus=\"collapsed\",this.activate=new i.n,this.treeAction=new i.n,this._groupStyles={left:{},center:{},right:{}},this._element=r.nativeElement,this._rowDiffer=t.find({}).create()}return Object.defineProperty(t.prototype,\"columns\",{get:function(){return this._columns},set:function(t){this._columns=t,this.recalculateColumns(t),this.buildStylesByGroup()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"innerWidth\",{get:function(){return this._innerWidth},set:function(t){if(this._columns){var e=F(this._columns);this._columnGroupWidths=D(e,this._columns)}this._innerWidth=t,this.recalculateColumns(),this.buildStylesByGroup()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"offsetX\",{get:function(){return this._offsetX},set:function(t){this._offsetX=t,this.buildStylesByGroup()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"cssClass\",{get:function(){var t,e,n=\"datatable-body-row\";if(this.isSelected&&(n+=\" active\"),this.rowIndex%2!=0&&(n+=\" datatable-row-odd\"),this.rowIndex%2==0&&(n+=\" datatable-row-even\"),this.rowClass){var i=this.rowClass(this.row);if(\"string\"==typeof i)n+=\" \"+i;else if(\"object\"==typeof i){var r=Object.keys(i);try{for(var o=Object(l.__values)(r),s=o.next();!s.done;s=o.next()){var a=s.value;!0===i[a]&&(n+=\" \"+a)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"columnsTotalWidths\",{get:function(){return this._columnGroupWidths.total},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){this._rowDiffer.diff(this.row)&&this.cd.markForCheck()},t.prototype.trackByGroups=function(t,e){return e.type},t.prototype.columnTrackingFn=function(t,e){return e.$$id},t.prototype.buildStylesByGroup=function(){this._groupStyles.left=this.calcStylesByGroup(\"left\"),this._groupStyles.center=this.calcStylesByGroup(\"center\"),this._groupStyles.right=this.calcStylesByGroup(\"right\"),this.cd.markForCheck()},t.prototype.calcStylesByGroup=function(t){var e=this._columnGroupWidths,n=this.offsetX,i={width:e[t]+\"px\"};if(\"left\"===t)U(i,n,0);else if(\"right\"===t){var r=parseInt(this.innerWidth+\"\",0);U(i,-1*(e.total-r-n+this.scrollbarHelper.width),0)}return i},t.prototype.onActivate=function(t,e){t.cellIndex=e,t.rowElement=this._element,this.activate.emit(t)},t.prototype.onKeyDown=function(t){var e=t.keyCode;(e===at.return||e===at.down||e===at.up||e===at.left||e===at.right)&&t.target===this._element&&(t.preventDefault(),t.stopPropagation(),this.activate.emit({type:\"keydown\",event:t,row:this.row,rowElement:this._element}))},t.prototype.onMouseenter=function(t){this.activate.emit({type:\"mouseenter\",event:t,row:this.row,rowElement:this._element})},t.prototype.recalculateColumns=function(t){void 0===t&&(t=this.columns),this._columns=t;var e=F(this._columns);this._columnsByPin=A(this._columns),this._columnGroupWidths=D(e,this._columns)},t.prototype.onTreeAction=function(){this.treeAction.emit()},t}(),ut=function(){function t(t,e){this.cd=t,this.differs=e,this.rowContextmenu=new i.n(!1),this.groupContext={group:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this.rowContext={row:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this._expanded=!1,this.rowDiffer=e.find({}).create()}return Object.defineProperty(t.prototype,\"rowIndex\",{get:function(){return this._rowIndex},set:function(t){this._rowIndex=t,this.rowContext.rowIndex=t,this.groupContext.rowIndex=t,this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"expanded\",{get:function(){return this._expanded},set:function(t){this._expanded=t,this.groupContext.expanded=t,this.rowContext.expanded=t,this.cd.markForCheck()},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){this.rowDiffer.diff(this.row)&&(this.rowContext.row=this.row,this.groupContext.group=this.row,this.cd.markForCheck())},t.prototype.onContextmenu=function(t){this.rowContextmenu.emit({event:t,row:this.row})},t.prototype.getGroupHeaderStyle=function(){var t={};return t.transform=\"translate3d(\"+this.offsetX+\"px, 0px, 0px)\",t[\"backface-visibility\"]=\"hidden\",t.width=this.innerWidth,t},t}(),ct=function(){function t(t,e){this.cd=e,this.activate=new i.n,this.treeAction=new i.n,this.isFocused=!1,this.onCheckboxChangeFn=this.onCheckboxChange.bind(this),this.activateFn=this.activate.emit.bind(this.activate),this.cellContext={onCheckboxChangeFn:this.onCheckboxChangeFn,activateFn:this.activateFn,row:this.row,group:this.group,value:this.value,column:this.column,rowHeight:this.rowHeight,isSelected:this.isSelected,rowIndex:this.rowIndex,treeStatus:this.treeStatus,onTreeAction:this.onTreeAction.bind(this)},this._element=t.nativeElement}return Object.defineProperty(t.prototype,\"group\",{get:function(){return this._group},set:function(t){this._group=t,this.cellContext.group=t,this.checkValueUpdates(),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"rowHeight\",{get:function(){return this._rowHeight},set:function(t){this._rowHeight=t,this.cellContext.rowHeight=t,this.checkValueUpdates(),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isSelected\",{get:function(){return this._isSelected},set:function(t){this._isSelected=t,this.cellContext.isSelected=t,this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"expanded\",{get:function(){return this._expanded},set:function(t){this._expanded=t,this.cellContext.expanded=t,this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"rowIndex\",{get:function(){return this._rowIndex},set:function(t){this._rowIndex=t,this.cellContext.rowIndex=t,this.checkValueUpdates(),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"column\",{get:function(){return this._column},set:function(t){this._column=t,this.cellContext.column=t,this.checkValueUpdates(),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"row\",{get:function(){return this._row},set:function(t){this._row=t,this.cellContext.row=t,this.checkValueUpdates(),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"sorts\",{get:function(){return this._sorts},set:function(t){this._sorts=t,this.calcSortDir=this.calcSortDir(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"treeStatus\",{get:function(){return this._treeStatus},set:function(t){this._treeStatus=\"collapsed\"!==t&&\"expanded\"!==t&&\"loading\"!==t&&\"disabled\"!==t?\"collapsed\":t,this.cellContext.treeStatus=this._treeStatus,this.checkValueUpdates(),this.cd.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"columnCssClasses\",{get:function(){var t,e,n=\"datatable-body-cell\";if(this.column.cellClass)if(\"string\"==typeof this.column.cellClass)n+=\" \"+this.column.cellClass;else if(\"function\"==typeof this.column.cellClass){var i=this.column.cellClass({row:this.row,group:this.group,column:this.column,value:this.value,rowHeight:this.rowHeight});if(\"string\"==typeof i)n+=i;else if(\"object\"==typeof i){var r=Object.keys(i);try{for(var o=Object(l.__values)(r),s=o.next();!s.done;s=o.next()){var a=s.value;!0===i[a]&&(n+=\" \"+a)}}catch(u){t={error:u}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}}return this.sortDir||(n+=\" sort-active\"),this.isFocused&&(n+=\" active\"),\"asc\"===this.sortDir&&(n+=\" sort-asc\"),\"desc\"===this.sortDir&&(n+=\" sort-desc\"),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"width\",{get:function(){return this.column.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"minWidth\",{get:function(){return this.column.minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"maxWidth\",{get:function(){return this.column.maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"height\",{get:function(){var t=this.rowHeight;return isNaN(t)?t:t+\"px\"},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){this.checkValueUpdates()},t.prototype.ngOnDestroy=function(){this.cellTemplate&&this.cellTemplate.clear()},t.prototype.checkValueUpdates=function(){var t=\"\";if(this.row&&this.column){var e=this.column.$$valueGetter(this.row,this.column.prop),n=this.column.pipe;n?t=n.transform(e):void 0!==t&&(t=e)}else t=\"\";this.value!==t&&(this.value=t,this.cellContext.value=t,this.sanitizedValue=null!=t?this.stripHtml(t):t,this.cd.markForCheck())},t.prototype.onFocus=function(){this.isFocused=!0},t.prototype.onBlur=function(){this.isFocused=!1},t.prototype.onClick=function(t){this.activate.emit({type:\"click\",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})},t.prototype.onDblClick=function(t){this.activate.emit({type:\"dblclick\",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})},t.prototype.onKeyDown=function(t){var e=t.keyCode;(e===at.return||e===at.down||e===at.up||e===at.left||e===at.right)&&t.target===this._element&&(t.preventDefault(),t.stopPropagation(),this.activate.emit({type:\"keydown\",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element}))},t.prototype.onCheckboxChange=function(t){this.activate.emit({type:\"checkbox\",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element,treeStatus:\"collapsed\"})},t.prototype.calcSortDir=function(t){var e=this;if(t){var n=t.find(function(t){return t.prop===e.column.prop});return n?n.dir:void 0}},t.prototype.stripHtml=function(t){return t.replace?t.replace(/<\\/?[^>]+(>|$)/g,\"\"):t},t.prototype.onTreeAction=function(){this.treeAction.emit(this.row)},t.prototype.calcLeftMargin=function(t,e){return t.isTreeColumn?e.level*(null!=t.treeLevelIndent?t.treeLevelIndent:50):0},t}();function ht(t,e,n){var i=n(e,t);return i>-1?t.splice(i,1):t.push(e),t}var pt=function(){function t(){this.activate=new i.n,this.select=new i.n}return t.prototype.selectRow=function(t,e,n){var i;if(this.selectEnabled){var r=this.selectionType===k.checkbox,o=this.selectionType===k.multiClick,s=[];s=this.selectionType===k.multi||r||o?t.shiftKey?function(t,e,n,i,r){for(var o=n<i,s=0;s<e.length;s++){var a;a=o?{start:n,end:i}:{start:i,end:n+1},(o&&s<=i&&s>=n||!o&&s>=i&&s<=n)&&s>=a.start&&s<=a.end&&t.push(e[s])}return t}([],this.rows,e,this.prevIndex,this.getRowSelectedIdx.bind(this)):ht(t.ctrlKey||t.metaKey||o||r?Object(l.__spread)(this.selected):[],n,this.getRowSelectedIdx.bind(this)):ht([],n,this.getRowSelectedIdx.bind(this)),\"function\"==typeof this.selectCheck&&(s=s.filter(this.selectCheck.bind(this))),this.selected.splice(0,this.selected.length),(i=this.selected).push.apply(i,Object(l.__spread)(s)),this.prevIndex=e,this.select.emit({selected:s})}},t.prototype.onActivate=function(t,e){var n=t.type,i=t.event,r=t.row,o=this.selectionType===k.checkbox;!o&&(\"click\"===n||\"dblclick\"===n)||o&&\"checkbox\"===n?this.selectRow(i,e,r):\"keydown\"===n&&(i.keyCode===at.return?this.selectRow(i,e,r):this.onKeyboardFocus(t)),this.activate.emit(t)},t.prototype.onKeyboardFocus=function(t){var e=t.event.keyCode;if(e===at.up||e===at.down||e===at.right||e===at.left){var n=this.selectionType===k.cell;t.cellElement&&n?n&&this.focusCell(t.cellElement,t.rowElement,e,t.cellIndex):this.focusRow(t.rowElement,e)}},t.prototype.focusRow=function(t,e){var n=this.getPrevNextRow(t,e);n&&n.focus()},t.prototype.getPrevNextRow=function(t,e){var n=t.parentElement;if(n){var i=void 0;if(e===at.up?i=n.previousElementSibling:e===at.down&&(i=n.nextElementSibling),i&&i.children.length)return i.children[0]}},t.prototype.focusCell=function(t,e,n,i){var r;if(n===at.left)r=t.previousElementSibling;else if(n===at.right)r=t.nextElementSibling;else if(n===at.up||n===at.down){var o=this.getPrevNextRow(e,n);if(o){var s=o.getElementsByClassName(\"datatable-body-cell\");s.length&&(r=s[i])}}r&&r.focus()},t.prototype.getRowSelected=function(t){return this.getRowSelectedIdx(t,this.selected)>-1},t.prototype.getRowSelectedIdx=function(t,e){var n=this;if(!e||!e.length)return-1;var i=this.rowIdentity(t);return e.findIndex(function(t){return n.rowIdentity(t)===i})},t}();function ft(t){var e=t.filter(function(t){return!!t});return e.length?e.some(function(t){return\"number\"!=typeof t})?null:e.reduce(function(t,e){return t+e}):null}function dt(t){return null}var gt=function(){function t(){this.summaryRow={}}return t.prototype.ngOnChanges=function(){this.columns&&this.rows&&(this.updateInternalColumns(),this.updateValues())},t.prototype.updateInternalColumns=function(){this._internalColumns=this.columns.map(function(t){return Object(l.__assign)({},t,{cellTemplate:t.summaryTemplate})})},t.prototype.updateValues=function(){var t=this;this.summaryRow={},this.columns.filter(function(t){return!t.summaryTemplate}).forEach(function(e){var n=t.rows.map(function(t){return t[e.prop]}),i=t.getSummaryFunction(e);t.summaryRow[e.prop]=e.pipe?e.pipe.transform(i(n)):i(n)})},t.prototype.getSummaryFunction=function(t){return void 0===t.summaryFunc?ft:null===t.summaryFunc?dt:t.summaryFunc},t}(),mt=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:\"configuration\",useValue:e}]}},t}();\"undefined\"==typeof document||document.elementsFromPoint||(document.elementsFromPoint=function(t,e){for(var n,i,r,o=[],s=[];(n=document.elementFromPoint(t,e))&&-1===o.indexOf(n)&&null!=n;)o.push(n),s.push({value:n.style.getPropertyValue(\"pointer-events\"),priority:n.style.getPropertyPriority(\"pointer-events\")}),n.style.setProperty(\"pointer-events\",\"none\",\"important\");for(i=s.length;r=s[--i];)o[i].style.setProperty(\"pointer-events\",r.value?r.value:\"\",r.priority);return o})}}]);","extractedComments":[]}