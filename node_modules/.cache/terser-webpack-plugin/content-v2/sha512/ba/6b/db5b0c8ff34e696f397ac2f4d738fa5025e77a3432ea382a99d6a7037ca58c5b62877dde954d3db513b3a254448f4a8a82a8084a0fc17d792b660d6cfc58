{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{\"ANN+\":function(e,t,n){\"use strict\";n.r(t);var o=n(\"CcnG\"),s=function(){return function(){}}(),i=n(\"pMnS\"),r=n(\"oBZk\"),l=n(\"ZZ/e\"),c=n(\"mrSG\"),a=n(\"Ztuw\"),u=n(\"CStz\"),h=n(\"9B/o\"),p=n(\"EOHu\"),g=n(\"t8sF\"),d=n(\"wMzM\"),m=n(\"4zgz\"),b=n(\"Dc/3\"),f=n(\"S5bw\"),v=n(\"p0ib\"),y=n(\"15JJ\"),w=n(\"67Y/\");const C={schedule(e,t){const n=setTimeout(e,t);return()=>clearTimeout(n)},scheduleBeforeRender(e){if(\"undefined\"==typeof window)return C.schedule(e,0);if(void 0===window.requestAnimationFrame)return C.schedule(e,16);const t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};let E;function k(e,t,n){let o=n;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some((t,n)=>!(\"*\"===t||!function(t,n){if(!E){const e=Element.prototype;E=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&E.call(e,n)}(0,t)||(o=n,0))),o}const x=10;class R{constructor(e,t){this.componentFactory=t.get(o.j).resolveComponentFactory(e)}create(e){return new S(this.componentFactory,e)}}class S{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new f.a(1),this.events=this.eventEmitters.pipe(Object(y.a)(e=>Object(v.a)(...e))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:e})=>e)),this.ngZone=this.injector.get(o.A),this.elementZone=\"undefined\"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null!==this.componentRef&&null===this.scheduledDestroyFn&&(this.scheduledDestroyFn=C.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},x))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?(!function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))||void 0===t&&this.unchangedInputs.has(e))&&(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=o.r.create({providers:[],parent:this.injector}),n=function(t,n){const o=e.childNodes,s=n.map(()=>[]);let i=-1;n.some((e,t)=>\"*\"===e&&(i=t,!0));for(let e=0,r=o.length;e<r;++e){const t=o[e],r=k(t,n,i);-1!==r&&s[r].push(t)}return s}(0,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,n,e),this.viewChangeDetectorRef=this.componentRef.injector.get(o.h),this.implementsOnChanges=\"function\"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(o.g).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:t,templateName:n})=>e.instance[t].pipe(Object(w.a)(e=>({name:n,value:e}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=C.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const n=this.inputChanges[e];if(n)return void(n.currentValue=t);const s=this.unchangedInputs.has(e),i=s?void 0:this.getInputValue(e);this.inputChanges[e]=new o.L(i,t,s)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class j extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function F(e,t){const n=function(e,n){return t.injector.get(o.j).resolveComponentFactory(e).inputs}(e),s=t.strategyFactory||new R(e,t.injector),i=function(e){const t={};return e.forEach(({propName:e,templateName:n})=>{t[function(e){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}()]=e}),t}(n);class r extends j{constructor(e){super(),this.injector=e}get ngElementStrategy(){if(!this._ngElementStrategy){const e=this._ngElementStrategy=s.create(this.injector||t.injector);n.forEach(({propName:t})=>{if(!this.hasOwnProperty(t))return;const n=this[t];delete this[t],e.setInputValue(t,n)})}return this._ngElementStrategy}attributeChangedCallback(e,t,n,o){this.ngElementStrategy.setInputValue(i[e],n)}connectedCallback(){let e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(e=>{const t=function(e,t,n){if(\"function\"!=typeof CustomEvent){const o=e.createEvent(\"CustomEvent\");return o.initCustomEvent(t,!1,!1,n),o}return new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,e.name,e.value);this.dispatchEvent(t)})}}return r.observedAttributes=Object.keys(i),n.forEach(({propName:e})=>{Object.defineProperty(r.prototype,e,{get(){return this.ngElementStrategy.getInputValue(e)},set(t){this.ngElementStrategy.setInputValue(e,t)},configurable:!0,enumerable:!0})}),r}var I=n(\"sRmb\"),A=function(){function e(e,t,n,o,s,i,r,l,c,a,u,h,p,g,d){this.route=e,this.sanitizer=t,this.loginservc=n,this.router=o,this.storage=s,this.singleselservc=i,this.iab=r,this.androidPermissions=l,this.msg=c,this.nativefile=a,this.platform=u,this.fileOpener=h,this.commonFunction=p,this.alertCtrl=g,this.injector=d,this.TAG=\"Report Page\",this.txtTitle=\"Report\",this.btnName=\"Excel\",this.options={location:\"no\",hidden:\"yes\",clearcache:\"yes\",clearsessioncache:\"yes\",zoom:\"yes\",hardwareback:\"yes\",mediaPlaybackRequiresUserAction:\"no\",shouldPauseOnSuspend:\"no\",closebuttoncaption:\"Close\",disallowoverscroll:\"no\",toolbar:\"yes\",enableViewportScale:\"no\",allowInlineMediaPlayback:\"no\",presentationstyle:\"pagesheet\",fullscreen:\"yes\"},this.options1={location:\"yes\",hidden:\"no\",clearcache:\"yes\",clearsessioncache:\"yes\",zoom:\"yes\",hardwareback:\"yes\",mediaPlaybackRequiresUserAction:\"no\",shouldPauseOnSuspend:\"no\",closebuttoncaption:\"Close\",disallowoverscroll:\"no\",toolbar:\"yes\",enableViewportScale:\"no\",allowInlineMediaPlayback:\"no\",presentationstyle:\"pagesheet\",fullscreen:\"yes\"}}return e.prototype.ngOnInit=function(){var e=this;this.route.params.subscribe(function(t){e.rptid=t.rptid,e.loginservc.getReportPara(e.rptid).subscribe(function(t){e.rptparalist=t.data,e.loginservc.reportjson.org=e.loginservc.selectedprof.organization,e.loginservc.reportjson.user=e.loginservc.selectedprof.user,e.loginservc.reportjson.role=e.loginservc.selectedprof.role,e.loginservc.reportjson.client=e.loginservc.selectedprof.client,e.loginservc.reportjson.wh=e.loginservc.selectedprof.warehouse,e.loginservc.reportjson.rptid=e.rptid;for(var n=0,o=e.rptparalist;n<o.length;n++){var s=o[n];if(void 0===e.loginservc.reportjson[s.inppara]&&(e.loginservc.reportjson[s.inppara]=s[s.inppara]),!e.loginservc.iscutsomdefined&&s.issamepagemultiselect){var i=F(I.a,{injector:e.injector});customElements.define(\"app-listcontrol\",i),e.loginservc.iscutsomdefined=!0}}e.loginservc.GetReportPage(e.loginservc.reportjson).subscribe(function(t){console.log(\"Report Page\",t),e.file_name=t.report_name,e.txtTitle=e.file_name.substring(0,e.file_name.lastIndexOf(\".\")),e.fileType=e.file_name.substring(e.file_name.lastIndexOf(\".\")+1),\"pdf\"==e.fileType&&(e.btnName=\"PDF\"),e.innerhtml=e.sanitizer.bypassSecurityTrustHtml(t.data),e.loginservc.getReportPara(e.rptid).subscribe(function(t){e.rptparalist=t.data;for(var n=0,o=e.rptparalist;n<o.length;n++){var s=o[n],i=document.getElementById(s.inppara);i&&(s.isdependend?i.addEventListener(\"LST\"===s.scontroltype&&s.issamepagemultiselect?\"click\":\"focusin\",e.onReload.bind(e,s)):i.addEventListener(\"focusin\",e.onChange.bind(e,s)),(\"SLS\"===s.scontroltype||\"LST\"===s.scontroltype&&!s.issamepagemultiselect)&&i.addEventListener(\"click\",e.onSLSClick.bind(e,s.scontroltype)))}console.log(e.loginservc.reportjson)})})})})},e.prototype.onClickEmail=function(){var e=this;this.loginservc.reportjson.inpexcel=\"N\",this.loginservc.sendEmailReport(this.loginservc.reportjson).subscribe(function(t){e.response=t.response,void 0!==e.response.messageType?\"success\"===e.response.messageType&&(e.txtmessage=e.response.messageText,e.txterror=void 0):(e.txterror=e.response.error.message,e.txtmessage=void 0,e.txterror=e.txterror.split(\"Where\")[0])},function(t){e.txterror=t.message,e.txterror=e.txterror.split(\"Where\")[0],e.txtmessage=void 0})},e.prototype.onClickExcelPDF=function(){var e=this;this.loginservc.reportjson.inpexcel=\"Y\",this.commonFunction.loadingPresent(),this.loginservc.downloadExcelPDF(this.loginservc.reportjson).subscribe(function(t){if(e.commonFunction.loadingDismiss(),console.log(t),0!=t.size){var n=t.type,o=new Blob([t],{type:n}),s=\"mydoc\";if(\"text/csv\"===n)s=e.loginservc.selectedreport._identifier+\".csv\";else{if(\"application/json\"===n)return void e.commonFunction.presentAlert(\"Error\",\"Error\",\"Error On Downloading Report\");s=e.loginservc.selectedreport._identifier+\".pdf\"}var i,r=window.URL.createObjectURL(o);if(e.commonFunction.presentAlert(\"Message\",\"Success\",\"Downloaded Complete.\"),e.msg.isplatformweb){var l=document.createElement(\"a\");document.body.appendChild(l),l.href=r,l.download=s,l.click(),window.URL.revokeObjectURL(r)}e.platform.is(\"ios\")&&(i=e.nativefile.documentsDirectory),e.platform.is(\"android\")&&(i=e.nativefile.externalDataDirectory),e.msg.isplatformweb||e.nativefile.writeFile(i,s,o,{replace:!0}).then(function(){return e.fileOpener.open(i+s,n)}).catch(function(t){e.commonFunction.presentAlert(\"Message\",\"Alert\",t)})}else e.commonFunction.presentAlert(\"Message\",\"Alert\",\"File not Downloaded.\")},function(t){e.txterror=t.message,e.txterror=e.txterror.split(\"Where\")[0],e.txtmessage=void 0})},e.prototype.onReload=function(e,t){var n=this;this.loginservc.reportjson[t.target.id]===t.target.value&&\"LST\"!==e.scontroltype||(this.loginservc.reportjson[t.target.id]=void 0===t.target.value?\"\":t.target.value,void 0!==t.target.value&&\"\"!==t.target.value&&(this.loginservc.reportjson[t.target.id]=t.target.value,this.loginservc.GetReportPage(this.loginservc.reportjson).subscribe(function(e){n.innerhtml=n.sanitizer.bypassSecurityTrustHtml(e.data),n.loginservc.getReportPara(n.rptid).subscribe(function(e){n.rptparalist=e.data;for(var t=0,o=n.rptparalist;t<o.length;t++){var s=o[t],i=document.getElementById(s.inppara);i&&(s.isdependend?i.addEventListener(\"LST\"===s.scontroltype&&s.issamepagemultiselect?\"click\":\"focusin\",n.onReload.bind(n,s)):i.addEventListener(\"focusin\",n.onChange.bind(n,s)),(\"SLS\"===s.scontroltype||\"LST\"===s.scontroltype&&!s.issamepagemultiselect)&&i.addEventListener(\"click\",n.onSLSClick.bind(n,s.scontroltype)))}})})))},e.prototype.onChange=function(e,t){console.log(\"onchangecurr\",this.loginservc.reportjson),this.txtmessage=void 0,this.txterror=void 0,void 0!==t.target.value&&(this.loginservc.reportjson[t.target.id]=t.target.value)},e.prototype.onSLSClick=function(e,t){this.singleselservc.json=this.loginservc.reportjson,this.router.navigate([\"/selectorsingle\",this.rptid,t.target.id,e])},e.prototype.presentAlert=function(e,t,n,o){return c.__awaiter(this,void 0,void 0,function(){var s,i=this;return c.__generator(this,function(r){switch(r.label){case 0:return[4,this.alertCtrl.create({header:e,subHeader:t,message:n,buttons:[{text:\"Cancel\",handler:function(){console.log(\"Confirm Okay\")}},{text:\"Okay\",handler:function(e){var t;t=\"pdf\"==i.fileType?\"application/pdf\":\"text/csv\",i.fileOpener.open(o.toURL(),t).then(function(){return console.log(\"File is opened\")}).catch(function(e){return console.log(\"Error opening file\",e)})}}]})];case 1:return(s=r.sent()).dismiss(function(){return console.log(\"The alert has been closed.\")}),[4,s.present()];case 2:return r.sent(),[2]}})})},e}(),O=n(\"ZYCi\"),D=n(\"ZYjt\"),T=n(\"iw74\"),H=o.vb({encapsulation:0,styles:[[\"\"]],data:{}});function L(e){return o.Tb(0,[(e()(),o.xb(0,0,null,null,17,\"ion-header\",[],null,null,null,r.qb,r.s)),o.wb(1,49152,null,0,l.E,[o.h,o.k,o.A],null,null),(e()(),o.xb(2,0,null,0,9,\"ion-toolbar\",[[\"color\",\"primary\"]],null,null,null,r.Ub,r.W)),o.wb(3,49152,null,0,l.Fb,[o.h,o.k,o.A],{color:[0,\"color\"]},null),(e()(),o.xb(4,0,null,0,2,\"ion-title\",[],null,null,null,r.Sb,r.U)),o.wb(5,49152,null,0,l.Db,[o.h,o.k,o.A],null,null),(e()(),o.Rb(6,0,[\"\",\"\"])),(e()(),o.xb(7,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,r.db,r.f)),o.wb(8,49152,null,0,l.o,[o.h,o.k,o.A],null,null),(e()(),o.xb(9,0,null,0,2,\"ion-back-button\",[[\"defaultHref\",\"reportcategory\"]],null,[[null,\"click\"]],function(e,t,n){var s=!0;return\"click\"===t&&(s=!1!==o.Jb(e,11).onClick(n)&&s),s},r.ab,r.c)),o.wb(10,49152,null,0,l.j,[o.h,o.k,o.A],{defaultHref:[0,\"defaultHref\"]},null),o.wb(11,16384,null,0,l.k,[[2,l.lb],l.Mb],{defaultHref:[0,\"defaultHref\"]},null),(e()(),o.xb(12,0,null,0,2,\"ion-text\",[[\"color\",\"danger\"]],null,null,null,r.Qb,r.S)),o.wb(13,49152,null,0,l.Ab,[o.h,o.k,o.A],{color:[0,\"color\"]},null),(e()(),o.Rb(14,0,[\"\",\"\"])),(e()(),o.xb(15,0,null,0,2,\"ion-text\",[[\"color\",\"warning\"]],null,null,null,r.Qb,r.S)),o.wb(16,49152,null,0,l.Ab,[o.h,o.k,o.A],{color:[0,\"color\"]},null),(e()(),o.Rb(17,0,[\"\",\"\"])),(e()(),o.xb(18,0,null,null,14,\"ion-content\",[],null,null,null,r.lb,r.n)),o.wb(19,49152,null,0,l.x,[o.h,o.k,o.A],null,null),(e()(),o.xb(20,0,null,0,0,\"div\",[],[[8,\"innerHTML\",1]],null,null,null,null)),(e()(),o.xb(21,0,null,0,11,\"ion-row\",[],null,null,null,r.Kb,r.M)),o.wb(22,49152,null,0,l.mb,[o.h,o.k,o.A],null,null),(e()(),o.xb(23,0,null,0,4,\"ion-col\",[[\"class\",\"ion-text-right\"]],null,null,null,r.kb,r.m)),o.wb(24,49152,null,0,l.w,[o.h,o.k,o.A],null,null),(e()(),o.xb(25,0,null,0,2,\"ion-button\",[],null,[[null,\"click\"]],function(e,t,n){var o=!0;return\"click\"===t&&(o=!1!==e.component.onClickEmail()&&o),o},r.cb,r.e)),o.wb(26,49152,null,0,l.n,[o.h,o.k,o.A],null,null),(e()(),o.Rb(-1,0,[\" Email \"])),(e()(),o.xb(28,0,null,0,4,\"ion-col\",[[\"class\",\"ion-text-left\"]],null,null,null,r.kb,r.m)),o.wb(29,49152,null,0,l.w,[o.h,o.k,o.A],null,null),(e()(),o.xb(30,0,null,0,2,\"ion-button\",[],null,[[null,\"click\"]],function(e,t,n){var o=!0;return\"click\"===t&&(o=!1!==e.component.onClickExcelPDF()&&o),o},r.cb,r.e)),o.wb(31,49152,null,0,l.n,[o.h,o.k,o.A],null,null),(e()(),o.Rb(32,0,[\" \",\" \"]))],function(e,t){e(t,3,0,\"primary\"),e(t,10,0,\"reportcategory\"),e(t,11,0,\"reportcategory\"),e(t,13,0,\"danger\"),e(t,16,0,\"warning\")},function(e,t){var n=t.component;e(t,6,0,n.txtTitle),e(t,14,0,n.txterror),e(t,17,0,n.txtmessage),e(t,20,0,n.innerhtml),e(t,32,0,n.btnName)})}function N(e){return o.Tb(0,[(e()(),o.xb(0,0,null,null,1,\"app-report\",[],null,null,null,L,H)),o.wb(1,114688,null,0,A,[O.a,D.b,a.a,O.m,T.b,u.a,h.a,m.a,p.a,g.a,l.Pb,d.a,b.a,l.a,o.r],null,null)],function(e,t){e(t,1,0)},null)}var P=o.tb(\"app-report\",A,N,{},{},[]),V=n(\"ekNO\"),Z=n(\"YODh\"),z=n(\"Ip0R\"),M=n(\"gIcY\"),_=function(){return function(){}}(),U=n(\"5rxC\"),B=n(\"lWO5\"),G=n(\"j1ZV\");n.d(t,\"ReportPageModuleNgFactory\",function(){return Y});var Y=o.ub(s,[],function(e){return o.Gb([o.Hb(512,o.j,o.fb,[[8,[i.a,P,V.a,V.b,Z.a]],[3,o.j],o.y]),o.Hb(4608,z.p,z.o,[o.v,[2,z.F]]),o.Hb(4608,M.A,M.A,[]),o.Hb(4608,l.b,l.b,[o.A,o.g]),o.Hb(4608,l.Lb,l.Lb,[l.b,o.j,o.r]),o.Hb(4608,l.Qb,l.Qb,[l.b,o.j,o.r]),o.Hb(1073742336,z.c,z.c,[]),o.Hb(1073742336,M.z,M.z,[]),o.Hb(1073742336,M.l,M.l,[]),o.Hb(1073742336,l.Hb,l.Hb,[]),o.Hb(1073742336,O.o,O.o,[[2,O.t],[2,O.m]]),o.Hb(1073742336,_,_,[]),o.Hb(1073742336,U.b,U.b,[]),o.Hb(1073742336,B.a,B.a,[]),o.Hb(1073742336,G.a,G.a,[]),o.Hb(1073742336,s,s,[]),o.Hb(1024,O.k,function(){return[[{path:\"\",component:A}]]},[])])})}}]);","extractedComments":[]}