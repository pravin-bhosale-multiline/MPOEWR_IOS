{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{v7rc:function(l,n,u){\"use strict\";u.r(n);var t=u(\"CcnG\"),i=function(){return function(){}}(),o=u(\"pMnS\"),e=u(\"oBZk\"),c=u(\"ZZ/e\"),s=u(\"Ip0R\"),r=u(\"S0tX\"),b=u(\"97cd\"),a=u(\"EOHu\"),p=u(\"Dc/3\"),d=function(){function l(l,n,u,t){this.checklistservice=l,this.router=n,this.msg=u,this.commonfn=t,this.sectionlist=[]}return l.prototype.ngOnInit=function(){for(var l=0,n=this.checklistservice.selectedinspection.sections;l<n.length;l++){for(var u=n[l],t={},i=[],o=0,e=u.questions;o<e.length;o++){var c=e[o],s={};if(\"\"!==c.ans&&c.isload){if(\"IMAGE\"===c.type||\"IMAGEC\"===c.type){s.queno=c.queno,console.log(\"queansImage\",c.ans);for(var r=void 0,b=0,a=c.ans.queue;b<a.length;b++)r=a[b];console.log(\"queansImage\",r),s.ans=r,s.question=c.question,s.colorbackground=c.colorbackground,s.forecolor=c.forecolor,s.type=c.type}else if(\"DTIME\"===c.type){s.queno=c.queno;var p=c.ans.split(\"T\"),d=p[0],f=p[1].substring(0,8);s.ans=d+\" \"+f,s.question=c.question,s.colorbackground=c.colorbackground,s.forecolor=c.forecolor,s.type=c.type}else s.queno=c.queno,s.ans=c.ans,s.question=c.question,s.colorbackground=c.colorbackground,s.forecolor=c.forecolor,s.type=c.type;i.push(s)}}t.sectionname=u.sectionname,t.questions=i,this.sectionlist.push(t)}},l.prototype.backPress=function(l){this.router.navigateByUrl(\"/deshboard\")},l.prototype.submitForm=function(l){for(var n=this,u={},t=[],i=new FormData,o=0,e=this.checklistservice.selectedinspection.sections;o<e.length;o++){var c=e[o];console.log(\"section\",c);for(var s=function(l){var n={};if(\"\"!==l.ans&&l.isload){if(\"IMAGE\"===l.type||\"IMAGEC\"===l.type)n.questionid=l.questionid,n.sectionid=c.sectionid,n.colorid=l.colorid,n.type=l.type,l.ans.queue.forEach(function(n){var u=n.file.name.substr(n.file.name.lastIndexOf(\".\")+1);i.append(l.questionid,n.file.rawFile,l.questionid+\".\"+u)}),n.ans=\"\";else if(\"DTIME\"===l.type){n.questionid=l.questionid;var u=l.ans.split(\"T\"),o=u[0],e=u[1].substring(0,8);n.ans=o+\" \"+e,n.sectionid=c.sectionid,n.colorid=l.colorid,n.type=l.type}else n.questionid=l.questionid,n.ans=l.ans,n.sectionid=c.sectionid,n.colorid=l.colorid,n.type=l.type;t.push(n)}},r=0,b=c.questions;r<b.length;r++)s(b[r])}u.questionlist=t,u.orgid=\"0\",u.arplanid=this.checklistservice.visitplanforchecklist.arplanid,u.checklisttrxid=this.checklistservice.visitplanforchecklist.checklisttrxid,u.inspectionid=this.checklistservice.selectedinspection.inspectionid,i.append(\"jsonpara\",JSON.stringify(u)),this.commonfn.loadingPresent(),this.checklistservice.onSaveSectionQuestion(i).subscribe(function(l){n.commonfn.loadingDismiss();var u=l.response;u.hasOwnProperty(\"messageType\")&&\"success\"==u.messageType&&(n.msg.presentAlert(\"Message\",\"Success\",\"Data saved successfully.\"),n.router.navigateByUrl(\"/arvisitschedule\")),u.error&&n.msg.presentAlert(\"Message\",\"Error\",u.error.message)})},l}(),f=u(\"ZYCi\"),h=t.vb({encapsulation:0,styles:[[\".img-container[_ngcontent-%COMP%]{position:relative}.topright[_ngcontent-%COMP%]{position:absolute;top:-8px;right:25px;font-size:18px;color:red}img[_ngcontent-%COMP%]{width:100%;height:auto}\"]],data:{}});function m(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,10,\"ion-row\",[],null,null,null,e.Kb,e.M)),t.wb(1,49152,null,0,c.mb,[t.h,t.k,t.A],null,null),(l()(),t.xb(2,0,null,0,8,\"ion-col\",[],null,null,null,e.kb,e.m)),t.wb(3,49152,null,0,c.w,[t.h,t.k,t.A],null,null),(l()(),t.xb(4,0,null,0,6,\"div\",[],null,null,null,null,null)),t.Ob(512,null,s.C,s.D,[t.k,t.u,t.G]),t.wb(6,278528,null,0,s.q,[s.C],{ngStyle:[0,\"ngStyle\"]},null),t.Mb(7,{\"background-color\":0,color:1}),(l()(),t.xb(8,0,null,null,2,\"ion-text\",[],null,null,null,e.Qb,e.S)),t.wb(9,49152,null,0,c.Ab,[t.h,t.k,t.A],null,null),(l()(),t.Rb(10,0,[\" \",\" \"]))],function(l,n){var u=l(n,7,0,n.parent.context.$implicit.colorbackground,n.parent.context.$implicit.forecolor);l(n,6,0,u)},function(l,n){l(n,10,0,n.parent.context.$implicit.ans)})}function g(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,\"img\",[[\"style\",\"height: 50px;width: 50px;\"]],null,null,null,null,null)),t.wb(1,4210688,null,0,r.a,[t.k],{ImagePreviewDirective:[0,\"ImagePreviewDirective\"]},null)],function(l,n){l(n,1,0,n.parent.parent.context.$implicit.ans.file)},null)}function k(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,9,\"ion-row\",[],null,null,null,e.Kb,e.M)),t.wb(1,49152,null,0,c.mb,[t.h,t.k,t.A],null,null),(l()(),t.xb(2,0,null,0,7,\"ion-col\",[],null,null,null,e.kb,e.m)),t.wb(3,49152,null,0,c.w,[t.h,t.k,t.A],null,null),(l()(),t.xb(4,0,null,0,5,\"div\",[],null,null,null,null,null)),t.Ob(512,null,s.C,s.D,[t.k,t.u,t.G]),t.wb(6,278528,null,0,s.q,[s.C],{ngStyle:[0,\"ngStyle\"]},null),t.Mb(7,{\"background-color\":0,color:1}),(l()(),t.mb(16777216,null,null,1,null,g)),t.wb(9,16384,null,0,s.n,[t.S,t.P],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var u=l(n,7,0,n.parent.context.$implicit.colorbackground,n.parent.context.$implicit.forecolor);l(n,6,0,u),l(n,9,0,\"application/pdf\"!=(null==n.parent.context.$implicit.ans?null:null==n.parent.context.$implicit.ans.file?null:n.parent.context.$implicit.ans.file.type))},null)}function x(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,11,\"div\",[[\"style\",\"width: 100%;padding-top: 10px;padding-left: 10px;\"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,6,\"ion-row\",[],null,null,null,e.Kb,e.M)),t.wb(2,49152,null,0,c.mb,[t.h,t.k,t.A],null,null),(l()(),t.xb(3,0,null,0,4,\"ion-col\",[],null,null,null,e.kb,e.m)),t.wb(4,49152,null,0,c.w,[t.h,t.k,t.A],null,null),(l()(),t.xb(5,0,null,0,2,\"ion-label\",[[\"position\",\"stacked\"]],null,null,null,e.yb,e.A)),t.wb(6,49152,null,0,c.Q,[t.h,t.k,t.A],{position:[0,\"position\"]},null),(l()(),t.Rb(7,0,[\" \",\".\",\" \"])),(l()(),t.mb(16777216,null,null,1,null,m)),t.wb(9,16384,null,0,s.n,[t.S,t.P],{ngIf:[0,\"ngIf\"]},null),(l()(),t.mb(16777216,null,null,1,null,k)),t.wb(11,16384,null,0,s.n,[t.S,t.P],{ngIf:[0,\"ngIf\"]},null)],function(l,n){l(n,6,0,\"stacked\"),l(n,9,0,\"IMAGE\"!==n.context.$implicit.type&&\"IMAGEC\"!==n.context.$implicit.type),l(n,11,0,\"IMAGE\"===n.context.$implicit.type||\"IMAGEC\"===n.context.$implicit.type)},function(l,n){l(n,7,0,n.context.$implicit.queno,n.context.$implicit.question)})}function w(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,7,\"div\",[[\"style\",\"width: 100%;padding-top: 10px;padding-bottom: 10px; padding-right: 10px; padding-left: 10px;\"]],null,null,null,null,null)),(l()(),t.xb(1,0,null,null,4,\"ion-card-header\",[[\"color\",\"primary\"]],null,null,null,e.fb,e.i)),t.wb(2,49152,null,0,c.r,[t.h,t.k,t.A],{color:[0,\"color\"]},null),(l()(),t.xb(3,0,null,0,2,\"ion-card-title\",[],null,null,null,e.hb,e.k)),t.wb(4,49152,null,0,c.t,[t.h,t.k,t.A],null,null),(l()(),t.Rb(5,0,[\"\",\"\"])),(l()(),t.mb(16777216,null,null,1,null,x)),t.wb(7,278528,null,0,s.m,[t.S,t.P,t.t],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){l(n,2,0,\"primary\"),l(n,7,0,n.context.$implicit.questions)},function(l,n){l(n,5,0,n.context.$implicit.sectionname)})}function v(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,15,\"ion-header\",[],null,null,null,e.qb,e.s)),t.wb(1,49152,null,0,c.E,[t.h,t.k,t.A],null,null),(l()(),t.xb(2,0,null,0,13,\"ion-toolbar\",[[\"color\",\"primary\"]],null,null,null,e.Ub,e.W)),t.wb(3,49152,null,0,c.Fb,[t.h,t.k,t.A],{color:[0,\"color\"]},null),(l()(),t.xb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,e.db,e.f)),t.wb(5,49152,null,0,c.o,[t.h,t.k,t.A],null,null),(l()(),t.xb(6,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],function(l,n,u){var i=!0;return\"click\"===n&&(i=!1!==t.Jb(l,8).onClick(u)&&i),i},e.ab,e.c)),t.wb(7,49152,null,0,c.j,[t.h,t.k,t.A],null,null),t.wb(8,16384,null,0,c.k,[[2,c.lb],c.Mb],null,null),(l()(),t.xb(9,0,null,0,2,\"ion-title\",[],null,null,null,e.Sb,e.U)),t.wb(10,49152,null,0,c.Db,[t.h,t.k,t.A],null,null),(l()(),t.Rb(-1,0,[\"Submission Details\"])),(l()(),t.xb(12,0,null,0,3,\"ion-buttons\",[[\"slot\",\"end\"]],null,null,null,e.db,e.f)),t.wb(13,49152,null,0,c.o,[t.h,t.k,t.A],null,null),(l()(),t.xb(14,0,null,0,1,\"ion-icon\",[[\"name\",\"save\"],[\"style\",\"font-size: 40px;\"]],null,[[null,\"click\"]],function(l,n,u){var t=!0;return\"click\"===n&&(t=!1!==l.component.submitForm(u)&&t),t},e.rb,e.t)),t.wb(15,49152,null,0,c.F,[t.h,t.k,t.A],{name:[0,\"name\"]},null),(l()(),t.xb(16,0,null,null,14,\"ion-content\",[],null,null,null,e.lb,e.n)),t.wb(17,49152,null,0,c.x,[t.h,t.k,t.A],null,null),(l()(),t.xb(18,0,null,0,10,\"div\",[[\"style\",\"width: 100%;padding-top: 10px;padding-bottom: 10px; padding-right: 10px; padding-left: 10px;\"]],null,null,null,null,null)),(l()(),t.xb(19,0,null,null,4,\"ion-row\",[],null,null,null,e.Kb,e.M)),t.wb(20,49152,null,0,c.mb,[t.h,t.k,t.A],null,null),(l()(),t.xb(21,0,null,0,2,\"ion-label\",[[\"position\",\"stacked\"]],null,null,null,e.yb,e.A)),t.wb(22,49152,null,0,c.Q,[t.h,t.k,t.A],{position:[0,\"position\"]},null),(l()(),t.Rb(23,0,[\" Inspection Name: \",\" \"])),(l()(),t.xb(24,0,null,null,4,\"ion-row\",[],null,null,null,e.Kb,e.M)),t.wb(25,49152,null,0,c.mb,[t.h,t.k,t.A],null,null),(l()(),t.xb(26,0,null,0,2,\"ion-label\",[[\"position\",\"stacked\"]],null,null,null,e.yb,e.A)),t.wb(27,49152,null,0,c.Q,[t.h,t.k,t.A],{position:[0,\"position\"]},null),(l()(),t.Rb(28,0,[\" Inspection ID: \",\" \"])),(l()(),t.mb(16777216,null,0,1,null,w)),t.wb(30,278528,null,0,s.m,[t.S,t.P,t.t],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){var u=n.component;l(n,3,0,\"primary\"),l(n,15,0,\"save\"),l(n,22,0,\"stacked\"),l(n,27,0,\"stacked\"),l(n,30,0,u.sectionlist)},function(l,n){var u=n.component;l(n,23,0,u.checklistservice.selectedinspection.inspectionname),l(n,28,0,u.checklistservice.selectedinspection.inspectionno)})}function y(l){return t.Tb(0,[(l()(),t.xb(0,0,null,null,1,\"app-sectionview\",[],null,null,null,v,h)),t.wb(1,114688,null,0,d,[b.a,f.m,a.a,p.a],null,null)],function(l,n){l(n,1,0)},null)}var A=t.tb(\"app-sectionview\",d,y,{},{},[]),q=u(\"ekNO\"),I=u(\"YODh\"),M=u(\"gIcY\"),H=function(){return function(){}}(),S=u(\"5rxC\"),O=u(\"lWO5\"),$=u(\"j1ZV\");u.d(n,\"SectionviewPageModuleNgFactory\",function(){return C});var C=t.ub(i,[],function(l){return t.Gb([t.Hb(512,t.j,t.fb,[[8,[o.a,A,q.a,q.b,I.a]],[3,t.j],t.y]),t.Hb(4608,s.p,s.o,[t.v,[2,s.F]]),t.Hb(4608,M.A,M.A,[]),t.Hb(4608,c.b,c.b,[t.A,t.g]),t.Hb(4608,c.Lb,c.Lb,[c.b,t.j,t.r]),t.Hb(4608,c.Qb,c.Qb,[c.b,t.j,t.r]),t.Hb(1073742336,s.c,s.c,[]),t.Hb(1073742336,M.z,M.z,[]),t.Hb(1073742336,M.l,M.l,[]),t.Hb(1073742336,c.Hb,c.Hb,[]),t.Hb(1073742336,f.o,f.o,[[2,f.t],[2,f.m]]),t.Hb(1073742336,H,H,[]),t.Hb(1073742336,S.b,S.b,[]),t.Hb(1073742336,O.a,O.a,[]),t.Hb(1073742336,$.a,$.a,[]),t.Hb(1073742336,i,i,[]),t.Hb(1024,f.k,function(){return[[{path:\"\",component:d}]]},[])])})}}]);","extractedComments":[]}