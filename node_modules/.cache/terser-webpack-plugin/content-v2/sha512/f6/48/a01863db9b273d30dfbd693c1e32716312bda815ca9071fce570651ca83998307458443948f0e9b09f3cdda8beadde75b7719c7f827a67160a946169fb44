{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{\"eV+v\":function(e,l,t){\"use strict\";t.r(l);var s=t(\"8Y7J\");class n{}var i=t(\"pMnS\"),a=t(\"oBZk\"),o=t(\"ZZ/e\"),c=t(\"ekNO\"),u=t(\"qyy+\"),r=t(\"s7LF\"),b=t(\"mrSG\"),h=t(\"97cd\"),d=t(\"CStz\");class g{constructor(e,l,t,s){this.singleselservc=e,this.route=l,this.router=t,this.checklistservice=s,this.getpagenofromlist=function(e){let l=0;for(let t of e)l+=1;return l}}ngOnInit(){this.txtCaption=\"Select Value\",this.route.params.subscribe(e=>{this.router.getCurrentNavigation().extras.state&&(this.question=this.router.getCurrentNavigation().extras.state.question,this.ismultiselect=\"MSL\"===this.question.type,this.singleselservc.json.action=\"getselctordata\",this.singleselservc.json.queid=this.question.questionid,this.singleselservc.json.orgid=\"0\",this.singleselservc.json.text=\"\",this.singleselservc.json.offset=0,this.singleselservc.json.quemaster=this.checklistservice.selectedinspection,this.singleselservc.pageOffset=0,this.checklistservice.getRequest(this.singleselservc.json).subscribe(e=>{var l=e;this.filterdata=l.data,this.pagerow=this.getpagenofromlist(e.data),this.totalrow=l.totalRows,console.log(\"filterdata\",this.filterdata)}))})}onSubmitSingleSelection(){if(this.ismultiselect){let e=\"\";for(let l of this.selecteddata)e=e+\"'\"+l.name+\"',\";e=\"(\"+e.substring(0,e.length-1)+\")\",this.question.ans=e}else this.question.ans=this.selecteddata.name;console.log(this.checklistservice.selectedinspection),this.router.navigate([\"section\"],{state:{question:this.question}})}getQueDetFromQueID(e){for(let l of this.checklistservice.selectedinspection.sections)for(let t of l.questions)if(e===t.questionid)return t}onSearchChange(e){let l=e.text.trim().toLowerCase();this.singleselservc.json.offset=0,this.singleselservc.json.quemaster=this.checklistservice.selectedinspection,this.singleselservc.json.action=\"getselctordata\",this.singleselservc.json.queid=this.question.questionid,this.singleselservc.json.orgid=\"0\",l&&\"\"!==l.trim()?l.length>2&&(this.singleselservc.json.text=l,this.checklistservice.getRequest(this.singleselservc.json).subscribe(e=>{var l=e;this.filterdata=l.data,this.pagerow=this.getpagenofromlist(e.data),this.totalrow=l.totalRows,console.log(\"searchdata\",this.filterdata)})):(this.singleselservc.json.text=l,this.checklistservice.getRequest(this.singleselservc.json).subscribe(e=>{var l=e;this.filterdata=l.data,this.pagerow=this.getpagenofromlist(e.data),this.totalrow=l.totalRows,console.log(\"searchdata\",this.filterdata)}))}doInfinite(e){return b.__awaiter(this,void 0,void 0,function*(){try{let t=(e.text||\"\").trim().toLowerCase();if(20===this.pagerow&&this.totalrow>20){this.singleselservc.pageOffset=this.singleselservc.pageOffset+20,this.singleselservc.json.offset=this.singleselservc.pageOffset,this.singleselservc.json.quemaster=this.checklistservice.selectedinspection,this.singleselservc.json.action=\"getselctordata\",this.singleselservc.json.queid=this.question.questionid,this.singleselservc.json.orgid=\"0\",t&&(this.singleselservc.json.text=t);let l=yield(yield this.checklistservice.getRequest(this.singleselservc.json)).toPromise();l&&(this.data=this.data.concat(l.data),this.pagerow=this.getpagenofromlist(l.data),this.filterdata=this.filterdata.concat(l.data),this.totalrow=l.totalRows,e.component.endInfiniteScroll())}if(this.filterdata.length===this.totalrow)return void e.component.disableInfiniteScroll()}catch(l){}})}}var f=t(\"iInd\"),p=s.sb({encapsulation:0,styles:[[\"\"]],data:{}});function m(e){return s.Qb(0,[(e()(),s.ub(0,0,null,null,11,\"ion-header\",[],null,null,null,a.qb,a.s)),s.tb(1,49152,null,0,o.E,[s.h,s.k,s.x],null,null),(e()(),s.ub(2,0,null,0,9,\"ion-toolbar\",[[\"color\",\"primary\"]],null,null,null,a.Ub,a.W)),s.tb(3,49152,null,0,o.Fb,[s.h,s.k,s.x],{color:[0,\"color\"]},null),(e()(),s.ub(4,0,null,0,2,\"ion-title\",[],null,null,null,a.Sb,a.U)),s.tb(5,49152,null,0,o.Db,[s.h,s.k,s.x],null,null),(e()(),s.Ob(-1,0,[\"Selection\"])),(e()(),s.ub(7,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,a.db,a.f)),s.tb(8,49152,null,0,o.o,[s.h,s.k,s.x],null,null),(e()(),s.ub(9,0,null,0,2,\"ion-back-button\",[[\"defaultHref\",\"section\"]],null,[[null,\"click\"]],function(e,l,t){var n=!0;return\"click\"===l&&(n=!1!==s.Gb(e,11).onClick(t)&&n),n},a.ab,a.c)),s.tb(10,49152,null,0,o.j,[s.h,s.k,s.x],{defaultHref:[0,\"defaultHref\"]},null),s.tb(11,16384,null,0,o.k,[[2,o.lb],o.Mb],{defaultHref:[0,\"defaultHref\"]},null),(e()(),s.ub(12,0,null,null,29,\"ion-content\",[],null,null,null,a.lb,a.n)),s.tb(13,49152,null,0,o.x,[s.h,s.k,s.x],null,null),(e()(),s.ub(14,0,null,0,24,\"ion-item\",[],null,null,null,a.xb,a.x)),s.tb(15,49152,null,0,o.K,[s.h,s.k,s.x],null,null),(e()(),s.ub(16,0,null,0,2,\"ion-label\",[[\"color\",\"primary\"],[\"position\",\"stacked\"]],null,null,null,a.yb,a.A)),s.tb(17,49152,null,0,o.Q,[s.h,s.k,s.x],{color:[0,\"color\"],position:[1,\"position\"]},null),(e()(),s.Ob(18,0,[\"\",\"\"])),(e()(),s.ub(19,0,null,0,19,\"ionic-selectable\",[[\"itemTextField\",\"name\"],[\"itemValueField\",\"name\"]],[[2,\"ionic-selectable\",null],[2,\"ionic-selectable-ios\",null],[2,\"ionic-selectable-md\",null],[2,\"ionic-selectable-is-multiple\",null],[2,\"ionic-selectable-has-value\",null],[2,\"ionic-selectable-has-placeholder\",null],[2,\"ionic-selectable-has-label\",null],[2,\"ionic-selectable-label-default\",null],[2,\"ionic-selectable-label-fixed\",null],[2,\"ionic-selectable-label-stacked\",null],[2,\"ionic-selectable-label-floating\",null],[2,\"ionic-selectable-is-enabled\",null],[2,\"ionic-selectable-can-clear\",null],[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"onSearch\"],[null,\"onInfiniteScroll\"]],function(e,l,t){var s=!0,n=e.component;return\"ngModelChange\"===l&&(s=!1!==(n.selecteddata=t)&&s),\"onSearch\"===l&&(s=!1!==n.onSearchChange(t)&&s),\"onInfiniteScroll\"===l&&(s=!1!==n.doInfinite(t)&&s),s},c.d,c.c)),s.tb(20,376832,null,14,u.a,[o.Lb,o.Pb,[2,o.K],s.q,s.k,s.C],{items:[0,\"items\"],itemValueField:[1,\"itemValueField\"],itemTextField:[2,\"itemTextField\"],canSearch:[3,\"canSearch\"],hasInfiniteScroll:[4,\"hasInfiniteScroll\"],isMultiple:[5,\"isMultiple\"]},{onSearch:\"onSearch\",onInfiniteScroll:\"onInfiniteScroll\"}),s.Mb(603979776,1,{valueTemplate:0}),s.Mb(603979776,2,{itemTemplate:0}),s.Mb(603979776,3,{itemEndTemplate:0}),s.Mb(603979776,4,{titleTemplate:0}),s.Mb(603979776,5,{placeholderTemplate:0}),s.Mb(603979776,6,{messageTemplate:0}),s.Mb(603979776,7,{groupTemplate:0}),s.Mb(603979776,8,{groupEndTemplate:0}),s.Mb(603979776,9,{closeButtonTemplate:0}),s.Mb(603979776,10,{searchFailTemplate:0}),s.Mb(603979776,11,{addItemTemplate:0}),s.Mb(603979776,12,{footerTemplate:0}),s.Mb(603979776,13,{headerTemplate:0}),s.Mb(603979776,14,{itemIconTemplate:0}),s.Lb(1024,null,r.o,function(e){return[e]},[u.a]),s.tb(36,671744,null,0,r.t,[[8,null],[8,null],[8,null],[6,r.o]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),s.Lb(2048,null,r.p,null,[r.t]),s.tb(38,16384,null,0,r.q,[[4,r.p]],null,null),(e()(),s.ub(39,0,null,0,2,\"ion-button\",[[\"fill\",\"outline\"],[\"shape\",\"round\"],[\"size\",\"small\"]],null,[[null,\"click\"]],function(e,l,t){var s=!0;return\"click\"===l&&(s=!1!==e.component.onSubmitSingleSelection()&&s),s},a.cb,a.e)),s.tb(40,49152,null,0,o.n,[s.h,s.k,s.x],{fill:[0,\"fill\"],shape:[1,\"shape\"],size:[2,\"size\"]},null),(e()(),s.Ob(-1,0,[\" Submit \"]))],function(e,l){var t=l.component;e(l,3,0,\"primary\"),e(l,10,0,\"section\"),e(l,11,0,\"section\"),e(l,17,0,\"primary\",\"stacked\"),e(l,20,0,t.filterdata,\"name\",\"name\",!0,!0,t.ismultiselect),e(l,36,0,t.selecteddata),e(l,40,0,\"outline\",\"round\",\"small\")},function(e,l){e(l,18,0,l.component.txtCaption),e(l,19,1,[s.Gb(l,20)._cssClass,s.Gb(l,20)._isIos,s.Gb(l,20)._isMD,s.Gb(l,20)._isMultipleCssClass,s.Gb(l,20)._hasValueCssClass,s.Gb(l,20)._hasPlaceholderCssClass,s.Gb(l,20)._hasIonLabelCssClass,s.Gb(l,20)._hasDefaultIonLabelCssClass,s.Gb(l,20)._hasFixedIonLabelCssClass,s.Gb(l,20)._hasStackedIonLabelCssClass,s.Gb(l,20)._hasFloatingIonLabelCssClass,s.Gb(l,20).isEnabled,s.Gb(l,20).canClear,s.Gb(l,38).ngClassUntouched,s.Gb(l,38).ngClassTouched,s.Gb(l,38).ngClassPristine,s.Gb(l,38).ngClassDirty,s.Gb(l,38).ngClassValid,s.Gb(l,38).ngClassInvalid,s.Gb(l,38).ngClassPending])})}function v(e){return s.Qb(0,[(e()(),s.ub(0,0,null,null,1,\"app-selectorsingle\",[],null,null,null,m,p)),s.tb(1,114688,null,0,g,[d.a,f.a,f.m,h.a],null,null)],function(e,l){e(l,1,0)},null)}var C=s.qb(\"app-selectorsingle\",g,v,{},{},[]),k=t(\"SVse\");class S{}var q=t(\"A2Kn\");t.d(l,\"SelectorsinglePageModuleNgFactory\",function(){return j});var j=s.rb(n,[],function(e){return s.Db([s.Eb(512,s.j,s.cb,[[8,[i.a,C,c.a,c.b]],[3,s.j],s.v]),s.Eb(4608,k.p,k.o,[s.s,[2,k.F]]),s.Eb(4608,r.A,r.A,[]),s.Eb(4608,o.b,o.b,[s.x,s.g]),s.Eb(4608,o.Lb,o.Lb,[o.b,s.j,s.p]),s.Eb(4608,o.Qb,o.Qb,[o.b,s.j,s.p]),s.Eb(1073742336,k.c,k.c,[]),s.Eb(1073742336,r.z,r.z,[]),s.Eb(1073742336,r.l,r.l,[]),s.Eb(1073742336,o.Hb,o.Hb,[]),s.Eb(1073742336,f.o,f.o,[[2,f.t],[2,f.m]]),s.Eb(1073742336,S,S,[]),s.Eb(1073742336,q.a,q.a,[]),s.Eb(1073742336,n,n,[]),s.Eb(1024,f.k,function(){return[[{path:\"\",component:g}]]},[])])})}}]);","extractedComments":[]}