{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{v7rc:function(l,n,t){\"use strict\";t.r(n);var u=t(\"8Y7J\");class i{}var e=t(\"pMnS\"),o=t(\"oBZk\"),s=t(\"ZZ/e\"),c=t(\"SVse\"),r=t(\"S0tX\"),b=t(\"97cd\"),a=t(\"EOHu\"),p=t(\"Dc/3\");class d{constructor(l,n,t,u){this.checklistservice=l,this.router=n,this.msg=t,this.commonfn=u,this.sectionlist=[]}ngOnInit(){for(let n of this.checklistservice.selectedinspection.sections){let t={};var l=[];for(let u of n.questions){let n={};if(\"\"!==u.ans&&u.isload){if(\"IMAGE\"===u.type||\"IMAGEC\"===u.type){n.queno=u.queno,console.log(\"queansImage\",u.ans);let l,t=u.ans;for(let n of t.queue)l=n;console.log(\"queansImage\",l),n.ans=l,n.question=u.question,n.colorbackground=u.colorbackground,n.forecolor=u.forecolor,n.type=u.type}else if(\"DTIME\"===u.type){n.queno=u.queno;let l=u.ans.split(\"T\"),t=l[0],i=l[1].substring(0,8);n.ans=t+\" \"+i,n.question=u.question,n.colorbackground=u.colorbackground,n.forecolor=u.forecolor,n.type=u.type}else n.queno=u.queno,n.ans=u.ans,n.question=u.question,n.colorbackground=u.colorbackground,n.forecolor=u.forecolor,n.type=u.type;l.push(n)}}t.sectionname=n.sectionname,t.questions=l,this.sectionlist.push(t)}}backPress(l){this.router.navigateByUrl(\"/deshboard\")}submitForm(l){var n={},t=[];let u=new FormData;for(let i of this.checklistservice.selectedinspection.sections){console.log(\"section\",i);for(let l of i.questions){let n={};if(\"\"!==l.ans&&l.isload){if(\"IMAGE\"===l.type||\"IMAGEC\"===l.type){n.questionid=l.questionid,n.sectionid=i.sectionid,n.colorid=l.colorid,n.type=l.type;let t=0;l.ans.queue.forEach(n=>{var i=n.file.name.substr(n.file.name.lastIndexOf(\".\")+1);u.append(l.questionid,n.file.rawFile,l.questionid+\".\"+i),t++}),n.ans=\"\"}else if(\"DTIME\"===l.type){n.questionid=l.questionid;let t=l.ans.split(\"T\"),u=t[0],e=t[1].substring(0,8);n.ans=u+\" \"+e,n.sectionid=i.sectionid,n.colorid=l.colorid,n.type=l.type}else n.questionid=l.questionid,n.ans=l.ans,n.sectionid=i.sectionid,n.colorid=l.colorid,n.type=l.type;t.push(n)}}}n.questionlist=t,n.orgid=\"0\",n.arplanid=this.checklistservice.visitplanforchecklist.arplanid,n.checklisttrxid=this.checklistservice.visitplanforchecklist.checklisttrxid,n.inspectionid=this.checklistservice.selectedinspection.inspectionid,u.append(\"jsonpara\",JSON.stringify(n)),this.commonfn.loadingPresent(),this.checklistservice.onSaveSectionQuestion(u).subscribe(l=>{this.commonfn.loadingDismiss();var n=l.response;n.hasOwnProperty(\"messageType\")&&\"success\"==n.messageType&&(this.msg.presentAlert(\"Message\",\"Success\",\"Data saved successfully.\"),this.router.navigateByUrl(\"/arvisitschedule\")),n.error&&this.msg.presentAlert(\"Message\",\"Error\",n.error.message)})}}var f=t(\"iInd\"),h=u.sb({encapsulation:0,styles:[[\".img-container[_ngcontent-%COMP%]{position:relative}.topright[_ngcontent-%COMP%]{position:absolute;top:-8px;right:25px;font-size:18px;color:red}img[_ngcontent-%COMP%]{width:100%;height:auto}\"]],data:{}});function m(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,10,\"ion-row\",[],null,null,null,o.Kb,o.M)),u.tb(1,49152,null,0,s.mb,[u.h,u.k,u.x],null,null),(l()(),u.ub(2,0,null,0,8,\"ion-col\",[],null,null,null,o.kb,o.m)),u.tb(3,49152,null,0,s.w,[u.h,u.k,u.x],null,null),(l()(),u.ub(4,0,null,0,6,\"div\",[],null,null,null,null,null)),u.Lb(512,null,c.C,c.D,[u.k,u.r,u.D]),u.tb(6,278528,null,0,c.q,[c.C],{ngStyle:[0,\"ngStyle\"]},null),u.Jb(7,{\"background-color\":0,color:1}),(l()(),u.ub(8,0,null,null,2,\"ion-text\",[],null,null,null,o.Qb,o.S)),u.tb(9,49152,null,0,s.Ab,[u.h,u.k,u.x],null,null),(l()(),u.Ob(10,0,[\" \",\" \"]))],function(l,n){var t=l(n,7,0,n.parent.context.$implicit.colorbackground,n.parent.context.$implicit.forecolor);l(n,6,0,t)},function(l,n){l(n,10,0,n.parent.context.$implicit.ans)})}function g(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,1,\"img\",[[\"style\",\"height: 50px;width: 50px;\"]],null,null,null,null,null)),u.tb(1,4210688,null,0,r.a,[u.k],{ImagePreviewDirective:[0,\"ImagePreviewDirective\"]},null)],function(l,n){l(n,1,0,n.parent.parent.context.$implicit.ans.file)},null)}function k(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,9,\"ion-row\",[],null,null,null,o.Kb,o.M)),u.tb(1,49152,null,0,s.mb,[u.h,u.k,u.x],null,null),(l()(),u.ub(2,0,null,0,7,\"ion-col\",[],null,null,null,o.kb,o.m)),u.tb(3,49152,null,0,s.w,[u.h,u.k,u.x],null,null),(l()(),u.ub(4,0,null,0,5,\"div\",[],null,null,null,null,null)),u.Lb(512,null,c.C,c.D,[u.k,u.r,u.D]),u.tb(6,278528,null,0,c.q,[c.C],{ngStyle:[0,\"ngStyle\"]},null),u.Jb(7,{\"background-color\":0,color:1}),(l()(),u.jb(16777216,null,null,1,null,g)),u.tb(9,16384,null,0,c.n,[u.P,u.M],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var t=l(n,7,0,n.parent.context.$implicit.colorbackground,n.parent.context.$implicit.forecolor);l(n,6,0,t),l(n,9,0,\"application/pdf\"!=(null==n.parent.context.$implicit.ans?null:null==n.parent.context.$implicit.ans.file?null:n.parent.context.$implicit.ans.file.type))},null)}function x(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,11,\"div\",[[\"style\",\"width: 100%;padding-top: 10px;padding-left: 10px;\"]],null,null,null,null,null)),(l()(),u.ub(1,0,null,null,6,\"ion-row\",[],null,null,null,o.Kb,o.M)),u.tb(2,49152,null,0,s.mb,[u.h,u.k,u.x],null,null),(l()(),u.ub(3,0,null,0,4,\"ion-col\",[],null,null,null,o.kb,o.m)),u.tb(4,49152,null,0,s.w,[u.h,u.k,u.x],null,null),(l()(),u.ub(5,0,null,0,2,\"ion-label\",[[\"position\",\"stacked\"]],null,null,null,o.yb,o.A)),u.tb(6,49152,null,0,s.Q,[u.h,u.k,u.x],{position:[0,\"position\"]},null),(l()(),u.Ob(7,0,[\" \",\".\",\" \"])),(l()(),u.jb(16777216,null,null,1,null,m)),u.tb(9,16384,null,0,c.n,[u.P,u.M],{ngIf:[0,\"ngIf\"]},null),(l()(),u.jb(16777216,null,null,1,null,k)),u.tb(11,16384,null,0,c.n,[u.P,u.M],{ngIf:[0,\"ngIf\"]},null)],function(l,n){l(n,6,0,\"stacked\"),l(n,9,0,\"IMAGE\"!==n.context.$implicit.type&&\"IMAGEC\"!==n.context.$implicit.type),l(n,11,0,\"IMAGE\"===n.context.$implicit.type||\"IMAGEC\"===n.context.$implicit.type)},function(l,n){l(n,7,0,n.context.$implicit.queno,n.context.$implicit.question)})}function v(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,7,\"div\",[[\"style\",\"width: 100%;padding-top: 10px;padding-bottom: 10px; padding-right: 10px; padding-left: 10px;\"]],null,null,null,null,null)),(l()(),u.ub(1,0,null,null,4,\"ion-card-header\",[[\"color\",\"primary\"]],null,null,null,o.fb,o.i)),u.tb(2,49152,null,0,s.r,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.ub(3,0,null,0,2,\"ion-card-title\",[],null,null,null,o.hb,o.k)),u.tb(4,49152,null,0,s.t,[u.h,u.k,u.x],null,null),(l()(),u.Ob(5,0,[\"\",\"\"])),(l()(),u.jb(16777216,null,null,1,null,x)),u.tb(7,278528,null,0,c.m,[u.P,u.M,u.q],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){l(n,2,0,\"primary\"),l(n,7,0,n.context.$implicit.questions)},function(l,n){l(n,5,0,n.context.$implicit.sectionname)})}function y(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,15,\"ion-header\",[],null,null,null,o.qb,o.s)),u.tb(1,49152,null,0,s.E,[u.h,u.k,u.x],null,null),(l()(),u.ub(2,0,null,0,13,\"ion-toolbar\",[[\"color\",\"primary\"]],null,null,null,o.Ub,o.W)),u.tb(3,49152,null,0,s.Fb,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.ub(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,o.db,o.f)),u.tb(5,49152,null,0,s.o,[u.h,u.k,u.x],null,null),(l()(),u.ub(6,0,null,0,2,\"ion-back-button\",[],null,[[null,\"click\"]],function(l,n,t){var i=!0;return\"click\"===n&&(i=!1!==u.Gb(l,8).onClick(t)&&i),i},o.ab,o.c)),u.tb(7,49152,null,0,s.j,[u.h,u.k,u.x],null,null),u.tb(8,16384,null,0,s.k,[[2,s.lb],s.Mb],null,null),(l()(),u.ub(9,0,null,0,2,\"ion-title\",[],null,null,null,o.Sb,o.U)),u.tb(10,49152,null,0,s.Db,[u.h,u.k,u.x],null,null),(l()(),u.Ob(-1,0,[\"Submission Details\"])),(l()(),u.ub(12,0,null,0,3,\"ion-buttons\",[[\"slot\",\"end\"]],null,null,null,o.db,o.f)),u.tb(13,49152,null,0,s.o,[u.h,u.k,u.x],null,null),(l()(),u.ub(14,0,null,0,1,\"ion-icon\",[[\"name\",\"save\"],[\"style\",\"font-size: 40px;\"]],null,[[null,\"click\"]],function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==l.component.submitForm(t)&&u),u},o.rb,o.t)),u.tb(15,49152,null,0,s.F,[u.h,u.k,u.x],{name:[0,\"name\"]},null),(l()(),u.ub(16,0,null,null,14,\"ion-content\",[],null,null,null,o.lb,o.n)),u.tb(17,49152,null,0,s.x,[u.h,u.k,u.x],null,null),(l()(),u.ub(18,0,null,0,10,\"div\",[[\"style\",\"width: 100%;padding-top: 10px;padding-bottom: 10px; padding-right: 10px; padding-left: 10px;\"]],null,null,null,null,null)),(l()(),u.ub(19,0,null,null,4,\"ion-row\",[],null,null,null,o.Kb,o.M)),u.tb(20,49152,null,0,s.mb,[u.h,u.k,u.x],null,null),(l()(),u.ub(21,0,null,0,2,\"ion-label\",[[\"position\",\"stacked\"]],null,null,null,o.yb,o.A)),u.tb(22,49152,null,0,s.Q,[u.h,u.k,u.x],{position:[0,\"position\"]},null),(l()(),u.Ob(23,0,[\" Inspection Name: \",\" \"])),(l()(),u.ub(24,0,null,null,4,\"ion-row\",[],null,null,null,o.Kb,o.M)),u.tb(25,49152,null,0,s.mb,[u.h,u.k,u.x],null,null),(l()(),u.ub(26,0,null,0,2,\"ion-label\",[[\"position\",\"stacked\"]],null,null,null,o.yb,o.A)),u.tb(27,49152,null,0,s.Q,[u.h,u.k,u.x],{position:[0,\"position\"]},null),(l()(),u.Ob(28,0,[\" Inspection ID: \",\" \"])),(l()(),u.jb(16777216,null,0,1,null,v)),u.tb(30,278528,null,0,c.m,[u.P,u.M,u.q],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){var t=n.component;l(n,3,0,\"primary\"),l(n,15,0,\"save\"),l(n,22,0,\"stacked\"),l(n,27,0,\"stacked\"),l(n,30,0,t.sectionlist)},function(l,n){var t=n.component;l(n,23,0,t.checklistservice.selectedinspection.inspectionname),l(n,28,0,t.checklistservice.selectedinspection.inspectionno)})}function q(l){return u.Qb(0,[(l()(),u.ub(0,0,null,null,1,\"app-sectionview\",[],null,null,null,y,h)),u.tb(1,114688,null,0,d,[b.a,f.m,a.a,p.a],null,null)],function(l,n){l(n,1,0)},null)}var E=u.qb(\"app-sectionview\",d,q,{},{},[]),M=t(\"ekNO\"),w=t(\"YODh\"),I=t(\"s7LF\");class O{}var A=t(\"pYyI\"),D=t(\"A2Kn\"),$=t(\"j1ZV\");t.d(n,\"SectionviewPageModuleNgFactory\",function(){return S});var S=u.rb(i,[],function(l){return u.Db([u.Eb(512,u.j,u.cb,[[8,[e.a,E,M.a,M.b,w.a]],[3,u.j],u.v]),u.Eb(4608,c.p,c.o,[u.s,[2,c.F]]),u.Eb(4608,I.A,I.A,[]),u.Eb(4608,s.b,s.b,[u.x,u.g]),u.Eb(4608,s.Lb,s.Lb,[s.b,u.j,u.p]),u.Eb(4608,s.Qb,s.Qb,[s.b,u.j,u.p]),u.Eb(1073742336,c.c,c.c,[]),u.Eb(1073742336,I.z,I.z,[]),u.Eb(1073742336,I.l,I.l,[]),u.Eb(1073742336,s.Hb,s.Hb,[]),u.Eb(1073742336,f.o,f.o,[[2,f.t],[2,f.m]]),u.Eb(1073742336,O,O,[]),u.Eb(1073742336,A.b,A.b,[]),u.Eb(1073742336,D.a,D.a,[]),u.Eb(1073742336,$.a,$.a,[]),u.Eb(1073742336,i,i,[]),u.Eb(1024,f.k,function(){return[[{path:\"\",component:d}]]},[])])})}}]);","extractedComments":[]}